(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7481:(e,a,n)=>{"use strict";n.d(a,{dj:()=>u});var s=n(2115);let r=0,o=new Map,t=e=>{if(o.has(e))return;let a=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=a;return n?t(n):e.toasts.forEach(e=>{t(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],c={toasts:[]};function d(e){c=l(c,e),i.forEach(e=>{e(c)})}function m(e){let{...a}=e,n=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:n});return d({type:"ADD_TOAST",toast:{...a,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function u(){let[e,a]=s.useState(c);return s.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8167:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>an});var s=n(5155),r=n(2115),o=n(1540),t=n(9311),l=n.n(t),i=n(9434);let c=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});c.displayName="Card";let d=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...r})});d.displayName="CardHeader";let m=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});m.displayName="CardTitle",r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",n),...r})}).displayName="CardDescription";let u=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",n),...r})});u.displayName="CardContent",r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",n),...r})}).displayName="CardFooter";var p=n(968),h=n(2085);let g=(0,h.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(p.b,{ref:a,className:(0,i.cn)(g(),n),...r})});x.displayName=p.b.displayName;let f=r.forwardRef((e,a)=>{let{className:n,type:r,style:o,...t}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","color"===r&&"p-1 h-10 w-10",n),ref:a,style:o,...t})});f.displayName="Input";var b=n(8215),y=n(9556),v=n(7381),C=n(518);let w=b.bL;b.YJ;let j=b.WT,S=r.forwardRef((e,a)=>{let{className:n,children:r,...o}=e;return(0,s.jsxs)(b.l9,{ref:a,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...o,children:[r,(0,s.jsx)(b.In,{asChild:!0,children:(0,s.jsx)(y.A,{className:"h-4 w-4 opacity-50"})})]})});S.displayName=b.l9.displayName;let k=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(b.PP,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})});k.displayName=b.PP.displayName;let N=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(b.wn,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})});N.displayName=b.wn.displayName;let B=r.forwardRef((e,a)=>{let{className:n,children:r,position:o="popper",...t}=e;return(0,s.jsx)(b.ZL,{children:(0,s.jsxs)(b.UC,{ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...t,children:[(0,s.jsx)(k,{}),(0,s.jsx)(b.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(N,{})]})})});B.displayName=b.UC.displayName,r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(b.JU,{ref:a,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...r})}).displayName=b.JU.displayName;let E=r.forwardRef((e,a)=>{let{className:n,children:r,...o}=e;return(0,s.jsxs)(b.q7,{ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(b.VF,{children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})}),(0,s.jsx)(b.p4,{children:r})]})});E.displayName=b.q7.displayName,r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(b.wv,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",n),...r})}).displayName=b.wv.displayName;var F=n(4073);let I=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsxs)(F.bL,{ref:a,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",n),...r,children:[(0,s.jsx)(F.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(F.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(F.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});I.displayName=F.bL.displayName;var G=n(4884);let D=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(G.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...r,ref:a,children:(0,s.jsx)(G.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});D.displayName=G.bL.displayName;var A=n(9708);let T=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=r.forwardRef((e,a)=>{let{className:n,variant:r,size:o,asChild:t=!1,...l}=e,c=t?A.DX:"button";return(0,s.jsx)(c,{className:(0,i.cn)(T({variant:r,size:o,className:n})),ref:a,...l})});z.displayName="Button";var U=n(6491),R=n(6307),O=n(9876),W=n(7909),M=n(3350),P=n(1721),L=n(4063),Y=n(5397),V=n(5731),H=n(462),_=n(8917),X=n(7832),J=n(3768),K=n(5340),q=n(1008),$=n(7223),Z=n(6318),Q=n(7607),ee=n(9162),ea=n(7723),en=n(2733),es=n(9191),er=n(9732),eo=n(5078),et=n(8531),el=n(8061),ei=n(5844),ec=n(4833),ed=n(8872),em=n(3261),eu=n(2354),ep=n(2774),eh=n(4601),eg=n(8681),ex=n(1887),ef=n(9563),eb=n(9193),ey=n(4913),ev=n(1526),eC=n(2636),ew=n(9099),ej=n(64);let eS=ej.bL,ek=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(ej.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...r})});ek.displayName=ej.B8.displayName;let eN=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(ej.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...r})});eN.displayName=ej.l9.displayName;let eB=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(ej.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r})});eB.displayName=ej.UC.displayName;var eE=n(9613);let eF=eE.Kq,eI=eE.bL,eG=eE.l9,eD=r.forwardRef((e,a)=>{let{className:n,sideOffset:r=4,...o}=e;return(0,s.jsx)(eE.UC,{ref:a,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})});eD.displayName=eE.UC.displayName;let eA=[{value:"Roboto, Arial, sans-serif",label:"Roboto (Sans-Serif, Google)"},{value:"Arial, Helvetica, sans-serif",label:"Arial (Sans-Serif)"},{value:'"Times New Roman", Times, serif',label:"Times New Roman (Serif)"},{value:"Georgia, serif",label:"Georgia (Serif)"},{value:'"Courier New", Courier, monospace',label:"Courier New (Monospace)"},{value:"Verdana, Geneva, sans-serif",label:"Verdana (Sans-Serif)"},{value:'"Comic Sans MS", "Comic Sans", cursive',label:"Comic Sans MS (Cursive)"},{value:"Impact, Charcoal, sans-serif",label:"Impact (Display)"},{value:'"Lucida Console", Monaco, monospace',label:"Lucida Console (Monospace)"},{value:'"Open Sans", sans-serif',label:"Open Sans (Google Font)"},{value:"Lato, sans-serif",label:"Lato (Google Font)"},{value:"Montserrat, sans-serif",label:"Montserrat (Google Font)"},{value:"Poppins, sans-serif",label:"Poppins (Google Font)"},{value:"Nunito, sans-serif",label:"Nunito (Google Font)"}],eT=e=>{if(!e)return"#000000";if(e.startsWith("#")){if(7===e.length)return e.toLowerCase();if(4===e.length)return"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]).toLowerCase();if(9===e.length)return e.substring(0,7).toLowerCase()}let a=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(a){let e=parseInt(a[1]),n=parseInt(a[2]),s=parseInt(a[3]);if(!isNaN(e)&&!isNaN(n)&&!isNaN(s)){let a=e=>Math.max(0,Math.min(255,e)).toString(16).padStart(2,"0");return"#".concat(a(e)).concat(a(n)).concat(a(s)).toLowerCase()}}return"transparent"===e||e.match(/hsla?\((\d+),\s*([\d.]+)%?,\s*([\d.]+)%?(?:,\s*[\d.]+)?\)/),"#000000"},ez=[{value:"none",label:"None"},{value:"fadeInUp",label:"Fade In Up"},{value:"fadeInLeft",label:"Fade In Left"},{value:"zoomIn",label:"Zoom In"},{value:"slideInRight",label:"Slide In Right"}],eU=[{value:"none",label:"None"},{value:"fadeOut",label:"Fade Out"},{value:"fadeOutDown",label:"Fade Out Down"},{value:"zoomOut",label:"Zoom Out"},{value:"slideOutLeft",label:"Slide Out Left"}],eR=[{value:"inline",label:"Inline (Next to Message)"},{value:"top",label:"Top (Above Message)"},{value:"bottom",label:"Bottom (Below Message)"}],eO=[{value:"none",label:"None"},{value:"subtle-glow-primary",label:"Subtle Glow (Primary Color)"},{value:"subtle-glow-accent",label:"Subtle Glow (Accent Color)"},{value:"dashed-border-primary",label:"Dashed Border (Primary)"},{value:"animated-border-accent",label:"Animated Border (Accent)"}],eW=[{value:"left",label:"Left",icon:U.A},{value:"center",label:"Center",icon:R.A},{value:"right",label:"Right",icon:O.A}];function eM(e){let{styles:a,onStylesChange:n}=e,[o,t]=(0,r.useState)(""),[l,i]=(0,r.useState)({}),[p,h]=(0,r.useState)({}),g=(0,r.useRef)(null),b=(0,r.useRef)({}),y=(0,r.useRef)({}),v=(e,s)=>{let{name:r,value:o}=e.target;s?n({...a,[s]:{...a[s],[r]:o}}):n({...a,[r]:o})},C=(e,s,r)=>{e.includes("BackgroundColor"),r?n({...a,[r]:{...a[r],[e]:s}}):n({...a,[e]:s})},k=(e,s,r)=>{r?n({...a,[r]:{...a[r],[e]:s}}):n({...a,[e]:s})},N=(e,s,r)=>{let o=String(s[0]);"messageHideDelay"===e?o="".concat(s[0],"s"):["containerBackgroundOpacity","usernameBackgroundOpacity","messageBackgroundOpacity"].includes(e)?o=String(s[0].toFixed(2)):e.includes("Opacity")?o=String(s[0].toFixed(2)):e.includes("StrokeWidth")||e.includes("BorderWidth")?o=String(s[0].toFixed(1)):["messageDropShadowX","messageDropShadowY","messageDropShadowBlur","usernameTextGlowBlur","messageTextGlowBlur","usernameRotation","cornerIconSize","cornerIconChance","usernameDropShadowX","usernameDropShadowY","usernameDropShadowBlur"].includes(e)&&(o=String(s[0])),r?n({...a,[r]:{...a[r],[e]:o}}):n({...a,[e]:o})},F=(e,n)=>{let s=n?a[n]:a,r=null==s?void 0:s[e];if("messageHideDelay"===e)return"string"==typeof r?[parseInt(r.replace("s",""),10)||15]:[15];if("string"==typeof r){let e=parseFloat(r);if(!isNaN(e))return[e]}return[0]},G=(e,s,r)=>{if(r)n({...a,[r]:{...a[r],[e]:s}});else{if("chatAlignment"===e&&!["left","center","right"].includes(s)){console.warn('Invalid value "'.concat(s,'" provided for chatAlignment.'));return}n({...a,[e]:s})}},A=(e,s,r)=>{var o;let t=null===(o=e.target.files)||void 0===o?void 0:o[0];if(t){let e=new FileReader;e.onloadend=()=>{let o=e.result;if("corner"===s){let e={id:crypto.randomUUID(),name:t.name,url:o};n({...a,cornerUploadedIcons:[...a.cornerUploadedIcons,e]})}else if("role"===s&&r&&a[r])n({...a,[r]:{...a[r],roleIconUrl:o}});else if("roleCorner"===s&&r&&a[r]){var l;let e={id:crypto.randomUUID(),name:t.name,url:o},s=(null===(l=a[r])||void 0===l?void 0:l.cornerUploadedIcons)||[];n({...a,[r]:{...a[r],cornerUploadedIcons:[...s,e]}})}},e.readAsDataURL(t)}e.target&&(e.target.value="")},T=e=>{n({...a,cornerUploadedIcons:a.cornerUploadedIcons.filter(a=>a.id!==e)})},ej=e=>{let s=l[e];if(s&&s.trim()){try{new URL(s.trim())}catch(a){alert("Invalid URL for ".concat(e," icon."));return}n({...a,[e]:{...a[e],roleIconUrl:s.trim()}}),i(a=>({...a,[e]:""}))}},eE=e=>{n({...a,[e]:{...a[e],roleIconUrl:""}})},eM=e=>{var s,r;let o=p[e];if(!o||!o.trim())return;try{new URL(o.trim())}catch(a){alert("Invalid URL for ".concat(e," corner icon."));return}let t={id:crypto.randomUUID(),name:(null===(s=o.split("/").pop())||void 0===s?void 0:s.split("?")[0])||"role-corner-icon",url:o.trim()},l=(null===(r=a[e])||void 0===r?void 0:r.cornerUploadedIcons)||[];n({...a,[e]:{...a[e],cornerUploadedIcons:[...l,t]}}),h(a=>({...a,[e]:""}))},eP=(e,s)=>{var r;let o=(null===(r=a[e])||void 0===r?void 0:r.cornerUploadedIcons)||[];n({...a,[e]:{...a[e],cornerUploadedIcons:o.filter(e=>e.id!==s)}})},eL=[{value:"container",label:"Container",icon:(0,s.jsx)(W.A,{size:18})},{value:"generalText",label:"General Text",icon:(0,s.jsx)(M.A,{size:18})},{value:"username",label:"Username (Default)",icon:(0,s.jsx)(P.A,{size:18})},{value:"message",label:"Message (Default)",icon:(0,s.jsx)(L.A,{size:18})},{value:"streamer",label:"Streamer",icon:(0,s.jsx)(Y.A,{size:18})},{value:"moderator",label:"Moderator",icon:(0,s.jsx)(V.A,{size:18})},{value:"vip",label:"VIP",icon:(0,s.jsx)(H.A,{size:18})},{value:"subscriber",label:"Subscriber",icon:(0,s.jsx)(_.A,{size:18})},{value:"effects",label:"Shadows & Glows",icon:(0,s.jsx)(X.A,{size:18})},{value:"animations",label:"Animations",icon:(0,s.jsx)(J.A,{size:18})},{value:"cornerIcons",label:"Corner Icons (Global)",icon:(0,s.jsx)(K.A,{size:18})},{value:"twitchConfig",label:"Twitch Config",icon:(0,s.jsx)(q.A,{size:18})}],eY=e=>(b.current[e]||(b.current[e]=r.createRef()),b.current[e]),eV=e=>(y.current[e]||(y.current[e]=r.createRef()),y.current[e]),eH=(e,r,o)=>{var t,c,d,m,u,g,b,y,T,U,R,O,W,Y,V,H,_,J,q,ex,ef;let eb=null!==(c=a[e])&&void 0!==c?c:{},ey=null!==(d=a["".concat(e,"Enabled")])&&void 0!==d&&d,ev=eY(e),eC=eV(e);return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[o," ",r," Styles"]}),(0,s.jsx)(D,{id:"".concat(e,"Enabled"),checked:ey,onCheckedChange:s=>n({...a,["".concat(e,"Enabled")]:s})})]}),ey&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"FontFamily"),className:"flex items-center gap-1",children:[(0,s.jsx)(M.A,{size:16})," Font Family"]}),(0,s.jsxs)(w,{name:"fontFamily",value:eb.fontFamily||a.fontFamily,onValueChange:a=>G("fontFamily",a,e),children:[(0,s.jsx)(S,{id:"".concat(e,"FontFamily"),children:(0,s.jsx)(j,{placeholder:"Select font"})}),(0,s.jsx)(B,{children:eA.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(K.A,{size:16})," Role Icon (next to username)"]}),eb.roleIconUrl&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-1 bg-muted/50 rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:eb.roleIconUrl,alt:"".concat(r," icon"),className:"w-6 h-6 object-contain rounded"}),(0,s.jsx)("span",{className:"text-xs truncate max-w-[150px]",children:eb.roleIconUrl.startsWith("data:")?"Uploaded Icon":eb.roleIconUrl})]}),(0,s.jsx)(z,{variant:"ghost",size:"icon",onClick:()=>eE(e),className:"h-6 w-6",children:(0,s.jsx)($.A,{size:14})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"RoleIconUrlInput"),className:"flex items-center gap-1",children:[(0,s.jsx)(Z.A,{size:16})," Add Icon from URL"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(f,{id:"".concat(e,"RoleIconUrlInput"),type:"url",value:l[e]||"",onChange:a=>i(n=>({...n,[e]:a.target.value})),placeholder:"https://example.com/icon.png",className:"flex-1"}),(0,s.jsx)(z,{onClick:()=>ej(e),size:"sm",children:"Add"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"RoleIconFileUpload"),className:"flex items-center gap-1",children:[(0,s.jsx)(Q.A,{size:16})," Upload Icon"]}),(0,s.jsx)(f,{id:"".concat(e,"RoleIconFileUpload"),ref:ev,type:"file",accept:"image/*",onChange:a=>A(a,"role",e),className:"mt-1"})]})]}),(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(K.A,{size:16})," Corner Icons (for ",r," messages)"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D,{id:"".concat(e,"CornerIconsEnabled"),checked:null!==(m=eb.cornerIconsEnabled)&&void 0!==m&&m,onCheckedChange:a=>k("cornerIconsEnabled",a,e)}),(0,s.jsxs)(x,{htmlFor:"".concat(e,"CornerIconsEnabled"),children:["Enable ",r," Corner Icons"]})]}),eb.cornerIconsEnabled&&(0,s.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"CornerIconUrlInput"),className:"flex items-center gap-1",children:[(0,s.jsx)(Z.A,{size:16})," Add Icon from URL"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(f,{id:"".concat(e,"CornerIconUrlInput"),type:"url",value:p[e]||"",onChange:a=>h(n=>({...n,[e]:a.target.value})),placeholder:"https://example.com/icon.png",className:"flex-1"}),(0,s.jsx)(z,{onClick:()=>eM(e),size:"sm",children:"Add"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"CornerIconFileUpload"),className:"flex items-center gap-1",children:[(0,s.jsx)(Q.A,{size:16})," Upload Icon"]}),(0,s.jsx)(f,{id:"".concat(e,"CornerIconFileUpload"),ref:eC,type:"file",accept:"image/*",onChange:a=>A(a,"roleCorner",e),className:"mt-1"})]}),(null!==(u=null===(t=eb.cornerUploadedIcons)||void 0===t?void 0:t.length)&&void 0!==u?u:0)>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{children:["Added ",r," Icons:"]}),(0,s.jsx)("div",{className:"max-h-32 overflow-y-auto border rounded-md p-2 space-y-1",children:eb.cornerUploadedIcons.map(a=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-1 bg-muted/50 rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:a.url,alt:a.name,className:"w-6 h-6 object-contain"}),(0,s.jsx)("span",{className:"text-xs truncate max-w-[150px]",children:a.name})]}),(0,s.jsx)(z,{variant:"ghost",size:"icon",onClick:()=>eP(e,a.id),className:"h-6 w-6",children:(0,s.jsx)($.A,{size:14})})]},a.id))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"CornerIconSize"),className:"flex items-center gap-1",children:[(0,s.jsx)(ee.A,{size:16})," Icon Size (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"CornerIconSize"),name:"cornerIconSize",min:10,max:64,step:1,value:F("cornerIconSize",e),onValueChange:a=>N("cornerIconSize",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(g=eb.cornerIconSize)&&void 0!==g?g:a.cornerIconSize,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"CornerIconChance"),className:"flex items-center gap-1",children:[(0,s.jsx)(ea.A,{size:16})," Appearance Chance (%)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"CornerIconChance"),name:"cornerIconChance",min:0,max:100,step:1,value:F("cornerIconChance",e),onValueChange:a=>N("cornerIconChance",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(b=eb.cornerIconChance)&&void 0!==b?b:a.cornerIconChance,"%"]})]})]})]})]}),(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(P.A,{size:16})," Username Appearance"]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{size:16})," Text Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameColor"),name:"usernameColor",value:eT(eb.usernameColor),onChange:a=>C("usernameColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameColor",value:eb.usernameColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernamePosition"),className:"flex items-center gap-1",children:["top"===eb.usernamePosition?(0,s.jsx)(es.A,{size:16}):"bottom"===eb.usernamePosition?(0,s.jsx)(er.A,{size:16}):(0,s.jsx)(eo.A,{size:16}),"Position"]}),(0,s.jsxs)(w,{name:"usernamePosition",value:eb.usernamePosition||"inline",onValueChange:a=>G("usernamePosition",a,e),children:[(0,s.jsx)(S,{id:"".concat(e,"UsernamePosition"),children:(0,s.jsx)(j,{placeholder:"Select position"})}),(0,s.jsx)(B,{children:eR.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameRotation"),className:"flex items-center gap-1",children:[(0,s.jsx)(et.A,{size:16})," Rotation (deg)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"UsernameRotation"),name:"usernameRotation",min:-45,max:45,step:1,value:F("usernameRotation",e),onValueChange:a=>N("usernameRotation",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-12 text-right",children:[eb.usernameRotation||"0","\xb0"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameBackgroundColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(el.A,{size:16})," Background Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameBackgroundColor"),name:"usernameBackgroundColor",value:eT(eb.usernameBackgroundColor),onChange:a=>C("usernameBackgroundColor",a.target.value,e),className:"w-10 h-10 p-1",disabled:eb.usernameGradientEnabled}),(0,s.jsx)(f,{type:"text",name:"usernameBackgroundColor",value:eb.usernameBackgroundColor||"",onChange:a=>v(a,e),className:"flex-1",disabled:eb.usernameGradientEnabled})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameBackgroundOpacity"),className:"flex items-center gap-1",children:[(0,s.jsx)(ei.A,{size:16})," Background Opacity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"UsernameBackgroundOpacity"),name:"usernameBackgroundOpacity",min:0,max:1,step:.01,value:F("usernameBackgroundOpacity",e),onValueChange:a=>N("usernameBackgroundOpacity",a,e),className:"flex-1",disabled:eb.usernameGradientEnabled}),(0,s.jsx)("span",{className:"text-sm w-12 text-right",children:null!==(y=eb.usernameBackgroundOpacity)&&void 0!==y?y:"1.0"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameGradientEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(ec.A,{size:16})," Username Bg Gradient"]}),(0,s.jsx)(D,{id:"".concat(e,"UsernameGradientEnabled"),name:"usernameGradientEnabled",checked:!!eb.usernameGradientEnabled,onCheckedChange:a=>k("usernameGradientEnabled",a,e)})]}),eb.usernameGradientEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameGradientColor1"),children:"Gradient Color 1"}),(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameGradientColor1"),name:"usernameGradientColor1",value:eT(eb.usernameGradientColor1),onChange:a=>C("usernameGradientColor1",a.target.value,e)}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameGradientColor2"),children:"Gradient Color 2"}),(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameGradientColor2"),name:"usernameGradientColor2",value:eT(eb.usernameGradientColor2),onChange:a=>C("usernameGradientColor2",a.target.value,e)}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameGradientAngle"),children:"Gradient Angle/Direction"}),(0,s.jsx)(f,{type:"text",id:"".concat(e,"UsernameGradientAngle"),name:"usernameGradientAngle",placeholder:"e.g. to right",value:eb.usernameGradientAngle||"",onChange:a=>v(a,e)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameBackgroundBorderRadius"),className:"flex items-center gap-1",children:[(0,s.jsx)(ed.A,{size:16})," Bg Border Radius (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"UsernameBackgroundBorderRadius"),name:"usernameBackgroundBorderRadius",min:0,max:40,step:1,value:F("usernameBackgroundBorderRadius",e),onValueChange:a=>N("usernameBackgroundBorderRadius",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[null!==(T=eb.usernameBackgroundBorderRadius)&&void 0!==T?T:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameBackgroundBorderWidth"),className:"flex items-center gap-1",children:[(0,s.jsx)(em.A,{size:16})," Background Border Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"UsernameBackgroundBorderWidth"),name:"usernameBackgroundBorderWidth",min:0,max:10,step:1,value:F("usernameBackgroundBorderWidth",e),onValueChange:a=>N("usernameBackgroundBorderWidth",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(U=eb.usernameBackgroundBorderWidth)&&void 0!==U?U:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameBackgroundBorderColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Background Border Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameBackgroundBorderColor"),name:"usernameBackgroundBorderColor",value:eT(eb.usernameBackgroundBorderColor),onChange:a=>C("usernameBackgroundBorderColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameBackgroundBorderColor",value:eb.usernameBackgroundBorderColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameStrokeWidth"),className:"flex items-center gap-1",children:[(0,s.jsx)(ep.A,{size:16})," Text Stroke Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"UsernameStrokeWidth"),name:"usernameStrokeWidth",min:0,max:5,step:.1,value:F("usernameStrokeWidth",e),onValueChange:a=>N("usernameStrokeWidth",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(R=eb.usernameStrokeWidth)&&void 0!==R?R:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameStrokeColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Text Stroke Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameStrokeColor"),name:"usernameStrokeColor",value:eT(eb.usernameStrokeColor),onChange:a=>C("usernameStrokeColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameStrokeColor",value:eb.usernameStrokeColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameTextGlowEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(eh.A,{size:16})," Username Text Glow"]}),(0,s.jsx)(D,{id:"".concat(e,"UsernameTextGlowEnabled"),name:"usernameTextGlowEnabled",checked:!!eb.usernameTextGlowEnabled,onCheckedChange:a=>k("usernameTextGlowEnabled",a,e)})]}),eb.usernameTextGlowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameTextGlowColor"),children:"Glow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameTextGlowColor"),name:"usernameTextGlowColor",value:eT(eb.usernameTextGlowColor),onChange:a=>C("usernameTextGlowColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameTextGlowColor",value:eb.usernameTextGlowColor||"",onChange:a=>v(a,e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameTextGlowBlur"),children:"Glow Blur (px)"}),(0,s.jsx)(I,{id:"".concat(e,"UsernameTextGlowBlur"),name:"usernameTextGlowBlur",min:0,max:20,step:1,value:F("usernameTextGlowBlur",e),onValueChange:a=>N("usernameTextGlowBlur",a,e)}),(0,s.jsxs)("span",{className:"text-xs",children:[eb.usernameTextGlowBlur||"0","px Blur"]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"UsernameDropShadowEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(eg.A,{size:16})," Username Drop Shadow"]}),(0,s.jsx)(D,{id:"".concat(e,"UsernameDropShadowEnabled"),name:"usernameDropShadowEnabled",checked:!!eb.usernameDropShadowEnabled,onCheckedChange:a=>k("usernameDropShadowEnabled",a,e)})]}),eb.usernameDropShadowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameDropShadowColor"),children:"Shadow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"UsernameDropShadowColor"),name:"usernameDropShadowColor",value:eT(eb.usernameDropShadowColor),onChange:a=>C("usernameDropShadowColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",placeholder:"rgba(0,0,0,0.5) or #hex",name:"usernameDropShadowColor",value:eb.usernameDropShadowColor||"",onChange:a=>v(a,e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameDropShadowX"),children:"Shadow Offset X (px)"}),(0,s.jsx)(I,{id:"".concat(e,"UsernameDropShadowX"),name:"usernameDropShadowX",min:-10,max:10,step:1,value:F("usernameDropShadowX",e),onValueChange:a=>N("usernameDropShadowX",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[eb.usernameDropShadowX||"0","px"]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameDropShadowY"),children:"Shadow Offset Y (px)"}),(0,s.jsx)(I,{id:"".concat(e,"UsernameDropShadowY"),name:"usernameDropShadowY",min:-10,max:10,step:1,value:F("usernameDropShadowY",e),onValueChange:a=>N("usernameDropShadowY",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[eb.usernameDropShadowY||"0","px"]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"UsernameDropShadowBlur"),children:"Shadow Blur (px)"}),(0,s.jsx)(I,{id:"".concat(e,"UsernameDropShadowBlur"),name:"usernameDropShadowBlur",min:0,max:20,step:1,value:F("usernameDropShadowBlur",e),onValueChange:a=>N("usernameDropShadowBlur",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[eb.usernameDropShadowBlur||"0","px"]})]})]})]}),(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(L.A,{size:16})," Message Appearance"]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{size:16})," Text Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageColor"),name:"messageColor",value:eT(eb.messageColor),onChange:a=>C("messageColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageColor",value:eb.messageColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageBackgroundColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(el.A,{size:16})," Background Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageBackgroundColor"),name:"messageBackgroundColor",value:eT(eb.messageBackgroundColor),onChange:a=>C("messageBackgroundColor",a.target.value,e),className:"w-10 h-10 p-1",disabled:eb.messageGradientEnabled}),(0,s.jsx)(f,{type:"text",name:"messageBackgroundColor",value:eb.messageBackgroundColor||"",onChange:a=>v(a,e),className:"flex-1",disabled:eb.messageGradientEnabled})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageBackgroundOpacity"),className:"flex items-center gap-1",children:[(0,s.jsx)(ei.A,{size:16})," Background Opacity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"MessageBackgroundOpacity"),name:"messageBackgroundOpacity",min:0,max:1,step:.01,value:F("messageBackgroundOpacity",e),onValueChange:a=>N("messageBackgroundOpacity",a,e),className:"flex-1",disabled:eb.messageGradientEnabled}),(0,s.jsx)("span",{className:"text-sm w-12 text-right",children:null!==(O=eb.messageBackgroundOpacity)&&void 0!==O?O:"1.0"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageGradientEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(ec.A,{size:16})," Message Bg Gradient"]}),(0,s.jsx)(D,{id:"".concat(e,"MessageGradientEnabled"),name:"messageGradientEnabled",checked:!!eb.messageGradientEnabled,onCheckedChange:a=>k("messageGradientEnabled",a,e)})]}),eb.messageGradientEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageGradientColor1"),children:"Gradient Color 1"}),(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageGradientColor1"),name:"messageGradientColor1",value:eT(eb.messageGradientColor1),onChange:a=>C("messageGradientColor1",a.target.value,e)}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageGradientColor2"),children:"Gradient Color 2"}),(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageGradientColor2"),name:"messageGradientColor2",value:eT(eb.messageGradientColor2),onChange:a=>C("messageGradientColor2",a.target.value,e)}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageGradientAngle"),children:"Gradient Angle/Direction"}),(0,s.jsx)(f,{type:"text",id:"".concat(e,"MessageGradientAngle"),name:"messageGradientAngle",placeholder:"e.g. to right",value:eb.messageGradientAngle||"",onChange:a=>v(a,e)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageBackgroundBorderRadius"),className:"flex items-center gap-1",children:[(0,s.jsx)(ed.A,{size:16})," Bg Border Radius (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"MessageBackgroundBorderRadius"),name:"messageBackgroundBorderRadius",min:0,max:40,step:1,value:F("messageBackgroundBorderRadius",e),onValueChange:a=>N("messageBackgroundBorderRadius",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[null!==(W=eb.messageBackgroundBorderRadius)&&void 0!==W?W:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageBackgroundBorderWidth"),className:"flex items-center gap-1",children:[(0,s.jsx)(em.A,{size:16})," Background Border Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"MessageBackgroundBorderWidth"),name:"messageBackgroundBorderWidth",min:0,max:10,step:1,value:F("messageBackgroundBorderWidth",e),onValueChange:a=>N("messageBackgroundBorderWidth",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(Y=eb.messageBackgroundBorderWidth)&&void 0!==Y?Y:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageBackgroundBorderColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Background Border Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageBackgroundBorderColor"),name:"messageBackgroundBorderColor",value:eT(eb.messageBackgroundBorderColor),onChange:a=>C("messageBackgroundBorderColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageBackgroundBorderColor",value:eb.messageBackgroundBorderColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageStrokeWidth"),className:"flex items-center gap-1",children:[(0,s.jsx)(ep.A,{size:16})," Text Stroke Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"".concat(e,"MessageStrokeWidth"),name:"messageStrokeWidth",min:0,max:5,step:.1,value:F("messageStrokeWidth",e),onValueChange:a=>N("messageStrokeWidth",a,e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[null!==(V=eb.messageStrokeWidth)&&void 0!==V?V:"0","px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageStrokeColor"),className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Text Stroke Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageStrokeColor"),name:"messageStrokeColor",value:eT(eb.messageStrokeColor),onChange:a=>C("messageStrokeColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageStrokeColor",value:eb.messageStrokeColor||"",onChange:a=>v(a,e),className:"flex-1"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageTextGlowEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(eh.A,{size:16})," Message Text Glow"]}),(0,s.jsx)(D,{id:"".concat(e,"MessageTextGlowEnabled"),name:"messageTextGlowEnabled",checked:!!eb.messageTextGlowEnabled,onCheckedChange:a=>k("messageTextGlowEnabled",a,e)})]}),eb.messageTextGlowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageTextGlowColor"),children:"Glow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageTextGlowColor"),name:"messageTextGlowColor",value:eT(eb.messageTextGlowColor),onChange:a=>C("messageTextGlowColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageTextGlowColor",value:eb.messageTextGlowColor||"",onChange:a=>v(a,e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageTextGlowBlur"),children:"Glow Blur (px)"}),(0,s.jsx)(I,{id:"".concat(e,"MessageTextGlowBlur"),name:"messageTextGlowBlur",min:0,max:20,step:1,value:F("messageTextGlowBlur",e),onValueChange:a=>N("messageTextGlowBlur",a,e)}),(0,s.jsxs)("span",{className:"text-xs",children:[eb.messageTextGlowBlur||"0","px Blur"]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"MessageDropShadowEnabled"),className:"flex items-center gap-1",children:[(0,s.jsx)(eg.A,{size:16})," Message Drop Shadow"]}),(0,s.jsx)(D,{id:"".concat(e,"MessageDropShadowEnabled"),name:"messageDropShadowEnabled",checked:null!==(H=eb.messageDropShadowEnabled)&&void 0!==H?H:a.messageDropShadowEnabled,onCheckedChange:a=>k("messageDropShadowEnabled",a,e)})]}),(null!==(_=eb.messageDropShadowEnabled)&&void 0!==_?_:a.messageDropShadowEnabled)&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageDropShadowColor"),children:"Shadow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"".concat(e,"MessageDropShadowColor"),name:"messageDropShadowColor",value:eT(null!==(J=eb.messageDropShadowColor)&&void 0!==J?J:a.messageDropShadowColor),onChange:a=>C("messageDropShadowColor",a.target.value,e),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",placeholder:"rgba(0,0,0,0.5) or #hex",name:"messageDropShadowColor",value:eb.messageDropShadowColor||"",onChange:a=>v(a,e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageDropShadowX"),children:"Shadow Offset X (px)"}),(0,s.jsx)(I,{id:"".concat(e,"MessageDropShadowX"),name:"messageDropShadowX",min:-10,max:10,step:1,value:F("messageDropShadowX",e),onValueChange:a=>N("messageDropShadowX",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[null!==(q=eb.messageDropShadowX)&&void 0!==q?q:a.messageDropShadowX,"px"]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageDropShadowY"),children:"Shadow Offset Y (px)"}),(0,s.jsx)(I,{id:"".concat(e,"MessageDropShadowY"),name:"messageDropShadowY",min:-10,max:10,step:1,value:F("messageDropShadowY",e),onValueChange:a=>N("messageDropShadowY",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[null!==(ex=eb.messageDropShadowY)&&void 0!==ex?ex:a.messageDropShadowY,"px"]}),(0,s.jsx)(x,{htmlFor:"".concat(e,"MessageDropShadowBlur"),children:"Shadow Blur (px)"}),(0,s.jsx)(I,{id:"".concat(e,"MessageDropShadowBlur"),name:"messageDropShadowBlur",min:0,max:20,step:1,value:F("messageDropShadowBlur",e),onValueChange:a=>N("messageDropShadowBlur",a,e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[null!==(ef=eb.messageDropShadowBlur)&&void 0!==ef?ef:a.messageDropShadowBlur,"px"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"".concat(e,"StaticEffect"),className:"flex items-center gap-1",children:[(0,s.jsx)(X.A,{size:16})," Static Effect"]}),(0,s.jsxs)(w,{name:"staticEffect",value:eb.staticEffect||"none",onValueChange:a=>G("staticEffect",a,e),children:[(0,s.jsx)(S,{id:"".concat(e,"StaticEffect"),children:(0,s.jsx)(j,{placeholder:"Select effect"})}),(0,s.jsx)(B,{children:eO.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]})]})]})};return(0,s.jsxs)(c,{className:"bg-card text-card-foreground shadow-lg",children:[(0,s.jsx)(d,{children:(0,s.jsx)(m,{className:"text-lg",children:"Customize Styles"})}),(0,s.jsx)(u,{className:"space-y-6",children:(0,s.jsx)(eF,{children:(0,s.jsxs)(eS,{defaultValue:"container",className:"w-full",children:[(0,s.jsx)(ek,{className:"grid w-full grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-12 mb-4 overflow-x-auto",children:eL.map(e=>(0,s.jsxs)(eI,{delayDuration:0,children:[(0,s.jsx)(eG,{asChild:!0,children:(0,s.jsxs)(eN,{value:e.value,className:"p-2 data-[state=active]:shadow-md flex-shrink-0",children:[e.icon,(0,s.jsx)("span",{className:"sr-only",children:e.label})]})}),(0,s.jsx)(eD,{side:"bottom",children:(0,s.jsx)("p",{children:e.label})})]},e.value))}),(0,s.jsx)(eB,{value:"container",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(W.A,{})," Container & General"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"containerBackground",className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{size:16})," Container Background Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"containerBackground",name:"containerBackground",value:eT(a.containerBackground),onChange:e=>C("containerBackground",e.target.value),className:"w-10 h-10 p-1",disabled:a.containerGradientEnabled}),(0,s.jsx)(f,{type:"text",value:a.containerBackground,onChange:e=>C("containerBackground",e.target.value),className:"flex-1",placeholder:"#18181B or transparent",disabled:a.containerGradientEnabled})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"containerBackgroundOpacity",className:"flex items-center gap-1",children:[(0,s.jsx)(ei.A,{size:16})," Container Background Opacity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"containerBackgroundOpacity",name:"containerBackgroundOpacity",min:0,max:1,step:.01,value:F("containerBackgroundOpacity"),onValueChange:e=>N("containerBackgroundOpacity",e),className:"flex-1",disabled:a.containerGradientEnabled}),(0,s.jsx)("span",{className:"text-sm w-12 text-right",children:a.containerBackgroundOpacity})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"containerGradientEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(ec.A,{size:16})," Enable Background Gradient"]}),(0,s.jsx)(D,{id:"containerGradientEnabled",checked:a.containerGradientEnabled,onCheckedChange:e=>k("containerGradientEnabled",e)})]}),a.containerGradientEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsxs)("div",{children:[" ",(0,s.jsx)(x,{htmlFor:"containerGradientColor1",children:"Gradient Color 1"})," ",(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[" ",(0,s.jsx)(f,{type:"color",id:"containerGradientColor1",name:"containerGradientColor1",value:eT(a.containerGradientColor1),onChange:e=>C("containerGradientColor1",e.target.value),className:"w-10 h-10 p-1"})," ",(0,s.jsx)(f,{type:"text",name:"containerGradientColor1",value:a.containerGradientColor1,onChange:e=>v(e),className:"flex-1"})," "]})," "]}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)(x,{htmlFor:"containerGradientColor2",children:"Gradient Color 2"})," ",(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[" ",(0,s.jsx)(f,{type:"color",id:"containerGradientColor2",name:"containerGradientColor2",value:eT(a.containerGradientColor2),onChange:e=>C("containerGradientColor2",e.target.value),className:"w-10 h-10 p-1"})," ",(0,s.jsx)(f,{type:"text",name:"containerGradientColor2",value:a.containerGradientColor2,onChange:e=>v(e),className:"flex-1"})," "]})," "]}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)(x,{htmlFor:"containerGradientAngle",children:"Gradient Angle/Direction"})," ",(0,s.jsx)(f,{type:"text",id:"containerGradientAngle",name:"containerGradientAngle",value:a.containerGradientAngle,onChange:v,placeholder:"e.g., to right, 45deg"})," "]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"chatPadding",className:"flex items-center gap-1",children:[(0,s.jsx)(ee.A,{size:16})," Chat Padding (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"chatPadding",name:"chatPadding",min:0,max:50,step:1,value:F("chatPadding"),onValueChange:e=>N("chatPadding",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[a.chatPadding,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"chatFlowDirection",className:"flex items-center gap-1",children:[(0,s.jsx)(ex.A,{size:16})," Chat Flow Direction"]}),(0,s.jsxs)(w,{name:"chatFlowDirection",value:a.chatFlowDirection,onValueChange:e=>G("chatFlowDirection",e),children:[(0,s.jsx)(S,{id:"chatFlowDirection",children:(0,s.jsx)(j,{placeholder:"Select flow"})}),(0,s.jsx)(B,{children:[{value:"new-at-bottom",label:"New Messages at Bottom (Standard)"},{value:"new-at-top",label:"New Messages at Top (Reverse)"}].map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"chatAlignment",className:"flex items-center gap-1",children:["left"===a.chatAlignment?(0,s.jsx)(U.A,{size:16}):"center"===a.chatAlignment?(0,s.jsx)(R.A,{size:16}):(0,s.jsx)(O.A,{size:16}),"Chat Alignment"]}),(0,s.jsxs)(w,{name:"chatAlignment",value:a.chatAlignment||"left",onValueChange:e=>G("chatAlignment",e),children:[(0,s.jsx)(S,{id:"chatAlignment",children:(0,s.jsx)(j,{placeholder:"Select alignment"})}),(0,s.jsx)(B,{children:eW.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]})]})]})}),(0,s.jsx)(eB,{value:"generalText",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(M.A,{size:18})," General Text Styles"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"fontFamily",className:"flex items-center gap-1",children:[(0,s.jsx)(M.A,{size:16})," Global Font Family"]}),(0,s.jsxs)(w,{name:"fontFamily",value:a.fontFamily,onValueChange:e=>G("fontFamily",e),children:[(0,s.jsx)(S,{id:"fontFamily",children:(0,s.jsx)(j,{placeholder:"Select font"})}),(0,s.jsx)(B,{children:eA.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameFontSize",className:"flex items-center gap-1",children:[(0,s.jsx)(ef.A,{size:16})," Global Font Size (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameFontSize",name:"usernameFontSize",min:10,max:30,step:1,value:F("usernameFontSize"),onValueChange:e=>N("usernameFontSize",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[a.usernameFontSize,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameFontWeight",className:"flex items-center gap-1",children:[(0,s.jsx)(eb.A,{size:16})," Global Font Weight"]}),(0,s.jsxs)(w,{name:"usernameFontWeight",value:a.usernameFontWeight,onValueChange:e=>G("usernameFontWeight",e),children:[(0,s.jsx)(S,{id:"usernameFontWeight",children:(0,s.jsx)(j,{placeholder:"Select weight"})}),(0,s.jsxs)(B,{children:[(0,s.jsx)(E,{value:"400",children:"Normal"}),(0,s.jsx)(E,{value:"700",children:"Bold (700)"}),(0,s.jsx)(E,{value:"900",children:"Black (900)"})]})]})]})]})}),(0,s.jsx)(eB,{value:"username",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(P.A,{size:16})," Username (Default)"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameColor",className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{size:16})," Text Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameColor",name:"usernameColor",value:eT(a.usernameColor),onChange:e=>C("usernameColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameColor",value:a.usernameColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#BF94FF"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernamePosition",className:"flex items-center gap-1",children:["top"===a.usernamePosition?(0,s.jsx)(es.A,{size:16}):"bottom"===a.usernamePosition?(0,s.jsx)(er.A,{size:16}):(0,s.jsx)(eo.A,{size:16}),"Position"]}),(0,s.jsxs)(w,{name:"usernamePosition",value:a.usernamePosition,onValueChange:e=>G("usernamePosition",e),children:[(0,s.jsx)(S,{id:"usernamePosition",children:(0,s.jsx)(j,{placeholder:"Select position"})}),(0,s.jsx)(B,{children:eR.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameRotation",className:"flex items-center gap-1",children:[(0,s.jsx)(et.A,{size:16})," Rotation (deg)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameRotation",name:"usernameRotation",min:-45,max:45,step:1,value:F("usernameRotation"),onValueChange:e=>N("usernameRotation",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-12 text-right",children:[a.usernameRotation,"\xb0"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameBackgroundColor",className:"flex items-center gap-1",children:[(0,s.jsx)(el.A,{size:16})," Background Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameBackgroundColor",name:"usernameBackgroundColor",value:eT(a.usernameBackgroundColor),onChange:e=>C("usernameBackgroundColor",e.target.value),className:"w-10 h-10 p-1",disabled:a.usernameGradientEnabled}),(0,s.jsx)(f,{type:"text",name:"usernameBackgroundColor",value:a.usernameBackgroundColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"transparent or #hex",disabled:a.usernameGradientEnabled})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameBackgroundOpacity",className:"flex items-center gap-1",children:[(0,s.jsx)(ei.A,{size:16})," Background Opacity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameBackgroundOpacity",name:"usernameBackgroundOpacity",min:0,max:1,step:.01,value:F("usernameBackgroundOpacity"),onValueChange:e=>N("usernameBackgroundOpacity",e),className:"flex-1",disabled:a.usernameGradientEnabled}),(0,s.jsx)("span",{className:"text-sm w-12 text-right",children:a.usernameBackgroundOpacity})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"usernameGradientEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(ec.A,{size:16})," Enable Background Gradient"]}),(0,s.jsx)(D,{id:"usernameGradientEnabled",checked:a.usernameGradientEnabled,onCheckedChange:e=>k("usernameGradientEnabled",e)})]}),a.usernameGradientEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"usernameGradientColor1",children:"Gradient Color 1"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameGradientColor1",name:"usernameGradientColor1",value:eT(a.usernameGradientColor1),onChange:e=>C("usernameGradientColor1",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameGradientColor1",value:a.usernameGradientColor1||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"usernameGradientColor2",children:"Gradient Color 2"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameGradientColor2",name:"usernameGradientColor2",value:eT(a.usernameGradientColor2),onChange:e=>C("usernameGradientColor2",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameGradientColor2",value:a.usernameGradientColor2||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"usernameGradientAngle",children:"Gradient Angle/Direction"}),(0,s.jsx)(f,{type:"text",id:"usernameGradientAngle",name:"usernameGradientAngle",value:a.usernameGradientAngle,onChange:v,placeholder:"e.g., to right, 45deg"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameBackgroundBorderRadius",className:"flex items-center gap-1",children:[(0,s.jsx)(ed.A,{size:16})," Background Border Radius (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameBackgroundBorderRadius",name:"usernameBackgroundBorderRadius",min:0,max:40,step:1,value:F("usernameBackgroundBorderRadius"),onValueChange:e=>N("usernameBackgroundBorderRadius",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[a.usernameBackgroundBorderRadius,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameBackgroundBorderWidth",className:"flex items-center gap-1",children:[(0,s.jsx)(em.A,{size:16})," Background Border Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameBackgroundBorderWidth",name:"usernameBackgroundBorderWidth",min:0,max:10,step:1,value:F("usernameBackgroundBorderWidth"),onValueChange:e=>N("usernameBackgroundBorderWidth",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.usernameBackgroundBorderWidth,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameBackgroundBorderColor",className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Background Border Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameBackgroundBorderColor",name:"usernameBackgroundBorderColor",value:eT(a.usernameBackgroundBorderColor),onChange:e=>C("usernameBackgroundBorderColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameBackgroundBorderColor",value:a.usernameBackgroundBorderColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#000000"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameStrokeWidth",className:"flex items-center gap-1",children:[(0,s.jsx)(ep.A,{size:16})," Text Stroke Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"usernameStrokeWidth",name:"usernameStrokeWidth",min:0,max:5,step:.1,value:F("usernameStrokeWidth"),onValueChange:e=>N("usernameStrokeWidth",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.usernameStrokeWidth,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"usernameStrokeColor",className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Text Stroke Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameStrokeColor",name:"usernameStrokeColor",value:eT(a.usernameStrokeColor),onChange:e=>C("usernameStrokeColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameStrokeColor",value:a.usernameStrokeColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#000000"})]})]})]})]})}),(0,s.jsx)(eB,{value:"message",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(L.A,{size:16})," Message (Default)"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageColor",className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{size:16})," Text Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageColor",name:"messageColor",value:eT(a.messageColor),onChange:e=>C("messageColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageColor",value:a.messageColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#EFEFF1"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageBackgroundColor",className:"flex items-center gap-1",children:[(0,s.jsx)(el.A,{size:16})," Background Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageBackgroundColor",name:"messageBackgroundColor",value:eT(a.messageBackgroundColor),onChange:e=>C("messageBackgroundColor",e.target.value),className:"w-10 h-10 p-1",disabled:a.messageGradientEnabled}),(0,s.jsx)(f,{type:"text",name:"messageBackgroundColor",value:a.messageBackgroundColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"transparent or #hex",disabled:a.messageGradientEnabled})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageBackgroundOpacity",className:"flex items-center gap-1",children:[(0,s.jsx)(ei.A,{size:16})," Background Opacity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"messageBackgroundOpacity",name:"messageBackgroundOpacity",min:0,max:1,step:.01,value:F("messageBackgroundOpacity"),onValueChange:e=>N("messageBackgroundOpacity",e),className:"flex-1",disabled:a.messageGradientEnabled}),(0,s.jsx)("span",{className:"text-sm w-12 text-right",children:a.messageBackgroundOpacity})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"messageGradientEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(ec.A,{size:16})," Enable Background Gradient"]}),(0,s.jsx)(D,{id:"messageGradientEnabled",checked:a.messageGradientEnabled,onCheckedChange:e=>k("messageGradientEnabled",e)})]}),a.messageGradientEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"messageGradientColor1",children:"Gradient Color 1"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageGradientColor1",name:"messageGradientColor1",value:eT(a.messageGradientColor1),onChange:e=>C("messageGradientColor1",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageGradientColor1",value:a.messageGradientColor1||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"messageGradientColor2",children:"Gradient Color 2"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageGradientColor2",name:"messageGradientColor2",value:eT(a.messageGradientColor2),onChange:e=>C("messageGradientColor2",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageGradientColor2",value:a.messageGradientColor2||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"messageGradientAngle",children:"Gradient Angle/Direction"}),(0,s.jsx)(f,{type:"text",id:"messageGradientAngle",name:"messageGradientAngle",value:a.messageGradientAngle,onChange:v,placeholder:"e.g., to right, 45deg"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageBackgroundBorderRadius",className:"flex items-center gap-1",children:[(0,s.jsx)(ed.A,{size:16})," Background Border Radius (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"messageBackgroundBorderRadius",name:"messageBackgroundBorderRadius",min:0,max:40,step:1,value:F("messageBackgroundBorderRadius"),onValueChange:e=>N("messageBackgroundBorderRadius",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-8 text-right",children:[a.messageBackgroundBorderRadius,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageBackgroundBorderWidth",className:"flex items-center gap-1",children:[(0,s.jsx)(em.A,{size:16})," Background Border Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"messageBackgroundBorderWidth",name:"messageBackgroundBorderWidth",min:0,max:10,step:1,value:F("messageBackgroundBorderWidth"),onValueChange:e=>N("messageBackgroundBorderWidth",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.messageBackgroundBorderWidth,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageBackgroundBorderColor",className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Background Border Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageBackgroundBorderColor",name:"messageBackgroundBorderColor",value:eT(a.messageBackgroundBorderColor),onChange:e=>C("messageBackgroundBorderColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageBackgroundBorderColor",value:a.messageBackgroundBorderColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#000000"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageStrokeWidth",className:"flex items-center gap-1",children:[(0,s.jsx)(ep.A,{size:16})," Text Stroke Width (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"messageStrokeWidth",name:"messageStrokeWidth",min:0,max:5,step:.1,value:F("messageStrokeWidth"),onValueChange:e=>N("messageStrokeWidth",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.messageStrokeWidth,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x,{htmlFor:"messageStrokeColor",className:"flex items-center gap-1",children:[(0,s.jsx)(eu.A,{size:16})," Text Stroke Color"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageStrokeColor",name:"messageStrokeColor",value:eT(a.messageStrokeColor),onChange:e=>C("messageStrokeColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageStrokeColor",value:a.messageStrokeColor||"",onChange:e=>v(e),className:"flex-1",placeholder:"#000000"})]})]})]})]})}),(0,s.jsx)(eB,{value:"streamer",children:eH("streamerStyles","Streamer",(0,s.jsx)(ey.A,{size:18}))}),(0,s.jsx)(eB,{value:"moderator",children:eH("moderatorStyles","Moderator",(0,s.jsx)(V.A,{size:18}))}),(0,s.jsx)(eB,{value:"vip",children:eH("vipStyles","VIP",(0,s.jsx)(H.A,{size:18}))}),(0,s.jsx)(eB,{value:"subscriber",children:eH("subscriberStyles","Subscriber",(0,s.jsx)(_.A,{size:18}))}),(0,s.jsx)(eB,{value:"effects",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(X.A,{})," Shadows & Glows (Default)"]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"messageDropShadowEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(eg.A,{size:16})," Message Drop Shadow"]}),(0,s.jsx)(D,{id:"messageDropShadowEnabled",checked:a.messageDropShadowEnabled,onCheckedChange:e=>k("messageDropShadowEnabled",e)})]}),a.messageDropShadowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"messageDropShadowColor",children:"Shadow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageDropShadowColor",name:"messageDropShadowColor",value:eT(a.messageDropShadowColor),onChange:e=>C("messageDropShadowColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageDropShadowColor",value:a.messageDropShadowColor,onChange:v,className:"flex-1",placeholder:"rgba(0,0,0,0.5) or #hex"})]}),(0,s.jsx)(x,{htmlFor:"messageDropShadowX",children:"Shadow Offset X (px)"}),(0,s.jsx)(I,{id:"messageDropShadowX",name:"messageDropShadowX",min:-10,max:10,step:1,value:F("messageDropShadowX"),onValueChange:e=>N("messageDropShadowX",e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[a.messageDropShadowX,"px"]}),(0,s.jsx)(x,{htmlFor:"messageDropShadowY",children:"Shadow Offset Y (px)"}),(0,s.jsx)(I,{id:"messageDropShadowY",name:"messageDropShadowY",min:-10,max:10,step:1,value:F("messageDropShadowY"),onValueChange:e=>N("messageDropShadowY",e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[a.messageDropShadowY,"px"]}),(0,s.jsx)(x,{htmlFor:"messageDropShadowBlur",children:"Shadow Blur (px)"}),(0,s.jsx)(I,{id:"messageDropShadowBlur",name:"messageDropShadowBlur",min:0,max:20,step:1,value:F("messageDropShadowBlur"),onValueChange:e=>N("messageDropShadowBlur",e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[a.messageDropShadowBlur,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"usernameTextGlowEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(eh.A,{size:16})," Username Text Glow"]}),(0,s.jsx)(D,{id:"usernameTextGlowEnabled",checked:a.usernameTextGlowEnabled,onCheckedChange:e=>k("usernameTextGlowEnabled",e)})]}),a.usernameTextGlowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"usernameTextGlowColor",children:"Glow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"usernameTextGlowColor",name:"usernameTextGlowColor",value:eT(a.usernameTextGlowColor),onChange:e=>C("usernameTextGlowColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"usernameTextGlowColor",value:a.usernameTextGlowColor||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"usernameTextGlowBlur",children:"Glow Blur (px)"}),(0,s.jsx)(I,{id:"usernameTextGlowBlur",name:"usernameTextGlowBlur",min:0,max:20,step:1,value:F("usernameTextGlowBlur"),onValueChange:e=>N("usernameTextGlowBlur",e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[a.usernameTextGlowBlur,"px"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(x,{htmlFor:"messageTextGlowEnabled",className:"flex items-center gap-1",children:[(0,s.jsx)(eh.A,{size:16})," Message Text Glow"]}),(0,s.jsx)(D,{id:"messageTextGlowEnabled",checked:a.messageTextGlowEnabled,onCheckedChange:e=>k("messageTextGlowEnabled",e)})]}),a.messageTextGlowEnabled&&(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsx)(x,{htmlFor:"messageTextGlowColor",children:"Glow Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{type:"color",id:"messageTextGlowColor",name:"messageTextGlowColor",value:eT(a.messageTextGlowColor),onChange:e=>C("messageTextGlowColor",e.target.value),className:"w-10 h-10 p-1"}),(0,s.jsx)(f,{type:"text",name:"messageTextGlowColor",value:a.messageTextGlowColor||"",onChange:e=>v(e),className:"flex-1"})]}),(0,s.jsx)(x,{htmlFor:"messageTextGlowBlur",children:"Glow Blur (px)"}),(0,s.jsx)(I,{id:"messageTextGlowBlur",name:"messageTextGlowBlur",min:0,max:20,step:1,value:F("messageTextGlowBlur"),onValueChange:e=>N("messageTextGlowBlur",e)})," ",(0,s.jsxs)("span",{className:"text-xs",children:[a.messageTextGlowBlur,"px"]})]})]})]})}),(0,s.jsx)(eB,{value:"animations",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(J.A,{})," Animations"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(D,{id:"animationEnabled",checked:a.animationEnabled,onCheckedChange:e=>k("animationEnabled",e)}),(0,s.jsx)(x,{htmlFor:"animationEnabled",children:"Enable Message Animations"})]}),a.animationEnabled&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-2",children:[(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium flex items-center gap-1",children:[(0,s.jsx)(ev.A,{size:16})," Appear Animation"]}),(0,s.jsxs)(w,{name:"animationIn",value:a.animationIn,onValueChange:e=>G("animationIn",e),children:[(0,s.jsx)(S,{id:"animationIn",children:(0,s.jsx)(j,{placeholder:"Select appear animation"})}),(0,s.jsx)(B,{children:ez.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-muted/20 space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium flex items-center gap-1",children:[(0,s.jsx)(eC.A,{size:16})," Disappear Animation"]}),(0,s.jsxs)(w,{name:"animationOut",value:a.animationOut,onValueChange:e=>G("animationOut",e),children:[(0,s.jsx)(S,{id:"animationOut",children:(0,s.jsx)(j,{placeholder:"Select disappear animation"})}),(0,s.jsx)(B,{children:eU.map(e=>(0,s.jsx)(E,{value:e.value,children:e.label},e.value))})]}),"none"!==a.animationOut&&(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsxs)(x,{htmlFor:"messageHideDelay",className:"flex items-center gap-1",children:[(0,s.jsx)(ew.A,{size:16})," Message Hide Delay (s)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"messageHideDelay",name:"messageHideDelay",min:1,max:60,step:1,value:F("messageHideDelay"),onValueChange:e=>N("messageHideDelay",e),className:"flex-1"}),(0,s.jsx)("span",{className:"text-sm w-8 text-right",children:a.messageHideDelay})]})]})]})]})]})}),(0,s.jsx)(eB,{value:"cornerIcons",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(K.A,{})," Corner Icons (Global/Default)"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D,{id:"cornerIconsEnabled",checked:a.cornerIconsEnabled,onCheckedChange:e=>k("cornerIconsEnabled",e)}),(0,s.jsx)(x,{htmlFor:"cornerIconsEnabled",children:"Enable Global Corner Icons"})]}),a.cornerIconsEnabled&&(0,s.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"iconUrlInput",className:"flex items-center gap-1",children:[(0,s.jsx)(Z.A,{size:16})," Add Icon from URL"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(f,{id:"iconUrlInput",type:"url",value:o,onChange:e=>t(e.target.value),placeholder:"https://example.com/icon.png",className:"flex-1"}),(0,s.jsx)(z,{onClick:()=>{var e;if(!o.trim())return;try{new URL(o.trim())}catch(e){alert("Invalid URL for corner icon.");return}let s={id:crypto.randomUUID(),name:(null===(e=o.split("/").pop())||void 0===e?void 0:e.split("?")[0])||"icon-url",url:o.trim()};n({...a,cornerUploadedIcons:[...a.cornerUploadedIcons,s]}),t("")},size:"sm",children:"Add"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"cornerIconFileUpload",className:"flex items-center gap-1",children:[(0,s.jsx)(Q.A,{size:16})," Upload Icon"]}),(0,s.jsx)(f,{id:"cornerIconFileUpload",ref:g,type:"file",accept:"image/*",onChange:e=>A(e,"corner"),className:"mt-1"})]}),a.cornerUploadedIcons.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x,{children:"Added Icons:"}),(0,s.jsx)("div",{className:"max-h-32 overflow-y-auto border rounded-md p-2 space-y-1",children:a.cornerUploadedIcons.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-1 bg-muted/50 rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:e.url,alt:e.name,className:"w-6 h-6 object-contain"}),(0,s.jsx)("span",{className:"text-xs truncate max-w-[150px]",children:e.name})]}),(0,s.jsx)(z,{variant:"ghost",size:"icon",onClick:()=>T(e.id),className:"h-6 w-6",children:(0,s.jsx)($.A,{size:14})})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"cornerIconSize",className:"flex items-center gap-1",children:[(0,s.jsx)(ee.A,{size:16})," Icon Size (px)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"cornerIconSize",name:"cornerIconSize",min:10,max:64,step:1,value:F("cornerIconSize"),onValueChange:e=>N("cornerIconSize",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.cornerIconSize,"px"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x,{htmlFor:"cornerIconChance",className:"flex items-center gap-1",children:[(0,s.jsx)(ea.A,{size:16})," Appearance Chance (%)"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(I,{id:"cornerIconChance",name:"cornerIconChance",min:0,max:100,step:1,value:F("cornerIconChance"),onValueChange:e=>N("cornerIconChance",e),className:"flex-1"}),(0,s.jsxs)("span",{className:"text-sm w-10 text-right",children:[a.cornerIconChance,"%"]})]})]})]})]})}),(0,s.jsx)(eB,{value:"twitchConfig",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:[(0,s.jsx)(q.A,{})," Twitch Client Configuration"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{htmlFor:"twitchUsername",children:"Twitch Bot Username"}),(0,s.jsx)(f,{id:"twitchUsername",name:"twitchUsername",value:a.twitchUsername,onChange:v,placeholder:"Your bot's username"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{htmlFor:"twitchOAuthToken",children:"Twitch OAuth Token"}),(0,s.jsx)(f,{id:"twitchOAuthToken",name:"twitchOAuthToken",type:"password",value:a.twitchOAuthToken,onChange:v,placeholder:"oauth:your_token"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Get token from ",(0,s.jsx)("a",{href:"https://twitchapps.com/tmi/",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"twitchapps.com/tmi/"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{htmlFor:"twitchChannelToJoin",children:"Twitch Channel to Join"}),(0,s.jsx)(f,{id:"twitchChannelToJoin",name:"twitchChannelToJoin",value:a.twitchChannelToJoin,onChange:v,placeholder:"Channel name"})]})]})})]})})})]})}var eP=n(7655);let eL=r.forwardRef((e,a)=>{let{className:n,children:r,...o}=e;return(0,s.jsxs)(eP.bL,{ref:a,className:(0,i.cn)("relative overflow-hidden",n),...o,children:[(0,s.jsx)(eP.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(eY,{}),(0,s.jsx)(eP.OK,{})]})});eL.displayName=eP.bL.displayName;let eY=r.forwardRef((e,a)=>{let{className:n,orientation:r="vertical",...o}=e;return(0,s.jsx)(eP.VM,{ref:a,orientation:r,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...o,children:(0,s.jsx)(eP.lr,{className:"relative flex-1 rounded-full bg-border"})})});function eV(e){if(!e)return null;let a=eA.find(a=>a.value===e);if(a&&a.label.includes("(Google Font)")){let a=e.split(",")[0].replace(/"/g,"").replace(/\s/g,"+");return"https://fonts.googleapis.com/css2?family=".concat(a,":wght@400;700;900&display=swap")}return a&&a.label.includes("Roboto")?"https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap":null}function eH(e,a){var n;let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,t=s?" !important":"",l=r?a:{...o,...a},c=null!==(n=l["".concat(e,"GradientEnabled")])&&void 0!==n&&n,d=l["".concat(e,"GradientColor1")],m=l["".concat(e,"GradientColor2")],u=l["".concat(e,"GradientAngle")],p=l["".concat(e,"BackgroundColor")],h=l["".concat(e,"BackgroundOpacity")];if(c&&d&&m&&u)return"background-image: linear-gradient(".concat(u,", ").concat(d,", ").concat(m,")").concat(t,";");if(p&&h){let a=(0,i.j)(p,h);if(a)return"background-color: ".concat(a).concat(t,"; background-image: none").concat(t,";");console.warn("Invalid color format for ".concat(e,"BackgroundColor: ").concat(p,". Using transparent."))}return"background-color: transparent".concat(t,"; background-image: none").concat(t,";")}function e_(e,a,n){var s,r,o,t,l,i,c,d;let m=!(arguments.length>3)||void 0===arguments[3]||arguments[3],u=!1;if("".concat(e,"DropShadowEnabled")in a&&"boolean"==typeof a["".concat(e,"DropShadowEnabled")]?u=a["".concat(e,"DropShadowEnabled")]:"".concat(e,"DropShadowEnabled")in n&&"boolean"==typeof n["".concat(e,"DropShadowEnabled")]&&(u=n["".concat(e,"DropShadowEnabled")]),!u)return"filter: none !important;";let p=null!==(r=null!==(s=a["".concat(e,"DropShadowColor")])&&void 0!==s?s:n["".concat(e,"DropShadowColor")])&&void 0!==r?r:"rgba(0,0,0,0.5)",h=null!==(t=null!==(o=a["".concat(e,"DropShadowX")])&&void 0!==o?o:n["".concat(e,"DropShadowX")])&&void 0!==t?t:"1",g=null!==(i=null!==(l=a["".concat(e,"DropShadowY")])&&void 0!==l?l:n["".concat(e,"DropShadowY")])&&void 0!==i?i:"1",x=null!==(d=null!==(c=a["".concat(e,"DropShadowBlur")])&&void 0!==c?c:n["".concat(e,"DropShadowBlur")])&&void 0!==d?d:"1";return"filter: drop-shadow(".concat(h,"px ").concat(g,"px ").concat(x,"px ").concat(p,")").concat(m?" !important":"",";")}function eX(e,a,n){var s,r,o,t,l,i,c,d,m,u;let p=[],h=null!==(r=null!==(s=a["".concat(e,"StrokeWidth")])&&void 0!==s?s:n["".concat(e,"StrokeWidth")])&&void 0!==r?r:"0",g=null!==(t=null!==(o=a["".concat(e,"StrokeColor")])&&void 0!==o?o:n["".concat(e,"StrokeColor")])&&void 0!==t?t:"#000000",x=null!==(i=null!==(l=a["".concat(e,"TextGlowEnabled")])&&void 0!==l?l:n["".concat(e,"TextGlowEnabled")])&&void 0!==i&&i,f=null!==(d=null!==(c=a["".concat(e,"TextGlowColor")])&&void 0!==c?c:n["".concat(e,"TextGlowColor")])&&void 0!==d?d:"#FFFFFF",b=null!==(u=null!==(m=a["".concat(e,"TextGlowBlur")])&&void 0!==m?m:n["".concat(e,"TextGlowBlur")])&&void 0!==u?u:"5",y=parseFloat(h);return!isNaN(y)&&y>0&&g&&(p.push("".concat(g," ").concat(y,"px 0 0")),p.push("".concat(g," -").concat(y,"px 0 0")),p.push("".concat(g," 0 ").concat(y,"px 0")),p.push("".concat(g," 0 -").concat(y,"px 0"))),x&&f&&b&&p.push("0 0 ".concat(b,"px ").concat(f)),p.length>0?"text-shadow: ".concat(p.join(", ")," !important;"):"text-shadow: none !important;"}function eJ(e,a,n){var s,r,o,t,l,i,c,d,m,u,p,h,g;if(!a)return"";let x=null!==(s=a.usernameColor)&&void 0!==s?s:n.usernameColor,f=null!==(r=a.messageColor)&&void 0!==r?r:n.messageColor,b=null!==(o=a.usernamePosition)&&void 0!==o?o:n.usernamePosition,y=null!==(t=a.usernameRotation)&&void 0!==t?t:n.usernameRotation,v=null!==(l=a.fontFamily)&&void 0!==l?l:n.fontFamily,C=a.staticEffect&&"none"!==a.staticEffect?" effect-".concat(a.staticEffect):"",w=null!==(i=a.usernameBackgroundBorderRadius)&&void 0!==i?i:n.usernameBackgroundBorderRadius,j=null!==(c=a.usernameBackgroundBorderWidth)&&void 0!==c?c:n.usernameBackgroundBorderWidth,S=parseFloat(j)>0?"solid":"none",k=null!==(d=a.usernameBackgroundBorderColor)&&void 0!==d?d:n.usernameBackgroundBorderColor,N=null!==(m=a.messageBackgroundBorderRadius)&&void 0!==m?m:n.messageBackgroundBorderRadius,B=null!==(u=a.messageBackgroundBorderWidth)&&void 0!==u?u:n.messageBackgroundBorderWidth,E=parseFloat(B)>0?"solid":"none",F=null!==(p=a.messageBackgroundBorderColor)&&void 0!==p?p:n.messageBackgroundBorderColor,I=null!==(g=null!==(h=a.cornerIconSize)&&void 0!==h?h:n.cornerIconSize)&&void 0!==g?g:"24",G="";G="top"===b?"\n        flex-direction: column !important;\n        align-items: flex-start !important;\n        .username-wrapper { order: 1 !important; margin-bottom: 0.2em !important; margin-right: 0 !important; }\n        .message { order: 2 !important; }":"bottom"===b?"\n        flex-direction: column !important;\n        align-items: flex-start !important;\n        .message { order: 1 !important; margin-top: 0.2em !important; }\n        .username-wrapper { order: 2 !important; margin-right: 0 !important; }":"\n        flex-direction: row !important;\n        align-items: baseline !important; /* Align baselines for inline */\n        .username-wrapper { order: initial !important; margin-right: 0.5em !important; margin-bottom: 0 !important; margin-top: 0 !important; }\n        .message { order: initial !important; }";let D=a.roleIconUrl?"\n    .chat-message.".concat(e,"-message .role-icon {\n        content: '' !important; /* Clear potential text content */\n        background-image: url('").concat(a.roleIconUrl,"') !important;\n        background-size: contain !important;\n        background-repeat: no-repeat !important;\n        background-position: center !important;\n        display: inline-block !important;\n        width: 1em !important; /* Adjust size as needed */\n        height: 1em !important;\n        margin-right: 0.3em !important;\n        vertical-align: middle !important; /* Or adjust as needed */\n        flex-shrink: 0 !important;\n    }\n    "):"\n     .chat-message.".concat(e,"-message .role-icon {\n         display: none !important; /* Hide if no URL */\n     }\n    "),A="\n    .chat-message.".concat(e,"-message .stylizer-corner-icon {\n        width: ").concat(I,"px !important;\n        height: ").concat(I,"px !important;\n    }");return"\n    /* --- ".concat(e.toUpperCase()," STYLES (").concat(a.fontFamily||"Default Font",") --- */\n    .chat-message.").concat(e,"-message {\n        ").concat(G,"\n        font-family: ").concat(v,", var(--font-family) !important; /* Role font first, then global fallback */\n        ").concat(e_("message",a,n)," /* Apply message shadow to container */\n    }\n    ").concat(D,"\n    ").concat(A," /* Apply role-specific corner icon size */\n    .chat-message.").concat(e,"-message .username-wrapper {\n         /* Wrapper for username and icon */\n         display: inline-flex !important;\n         align-items: center !important;\n         gap: 0.3em !important; /* Consistent gap */\n         flex-shrink: 0 !important;\n         position: relative !important; /* Needed for rotation/absolute positioning */\n    }\n    .chat-message.").concat(e,"-message .username {\n        color: ").concat(x," !important;\n        ").concat(eH("username",a,!0,!1,n),"\n        ").concat(eX("username",a,n),"\n        padding: 0.3em 0.7em !important;\n        border-radius: ").concat(w,"px !important;\n        border-width: ").concat(j,"px !important;\n        border-style: ").concat(S," !important;\n        border-color: ").concat(k," !important;\n        transform: rotate(").concat(y,"deg) !important;\n        transform-origin: center !important;\n        ").concat(e_("username",a,n)," /* Apply username shadow */\n        /* Font family inherited from .chat-message */\n        display: inline-block !important; /* Ensure it behaves like text */\n        max-width: 150px !important; /* Limit width */\n        overflow: hidden !important;\n        text-overflow: ellipsis !important;\n        white-space: nowrap !important;\n        vertical-align: middle !important; /* Align with icon/message */\n    }\n\n    .chat-message.").concat(e,"-message .message {\n        color: ").concat(f," !important;\n        ").concat(eH("message",a,!0,!1,n),"\n        ").concat(eX("message",a,n),"\n        padding: 0.5em 0.7em !important;\n        border-radius: ").concat(N,"px !important;\n        border-width: ").concat(B,"px !important;\n        border-style: ").concat(E," !important;\n        border-color: ").concat(F," !important;\n        /* Message shadow is applied to the outer .chat-message container */\n        /* Font family inherited from .chat-message */\n        display: inline !important; /* Allow wrapping naturally */\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n        white-space: normal !important; /* Allow wrapping */\n        vertical-align: middle !important; /* Align with username */\n        flex-grow: 1 !important; /* Take remaining space */\n         min-width: 0 !important; /* Prevent flex overflow */\n    }\n\n    /* Apply static effect class if present */\n    ").concat(C?".chat-message.".concat(e,"-message").concat(C," { /* Add specific effect styles here */ }"):"","\n    ")}eY.displayName=eP.VM.displayName;let eK=()=>(0,s.jsx)("span",{className:"emote-placeholder",style:{display:"inline-block",width:"24px",height:"24px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"4px",verticalAlign:"middle",margin:"0 2px"},title:"Emote","data-ai-hint":"emoji smiley"});function eq(e){let{styles:a}=e,n=(0,r.useRef)(null),o=(0,r.useRef)(null),[t,l]=(0,r.useState)(!1),d=(0,r.useMemo)(()=>{var e,n,s,r;let o=new Set([a.fontFamily]);return a.streamerStylesEnabled&&o.add(null===(e=a.streamerStyles)||void 0===e?void 0:e.fontFamily),a.moderatorStylesEnabled&&o.add(null===(n=a.moderatorStyles)||void 0===n?void 0:n.fontFamily),a.vipStylesEnabled&&o.add(null===(s=a.vipStyles)||void 0===s?void 0:s.fontFamily),a.subscriberStylesEnabled&&o.add(null===(r=a.subscriberStyles)||void 0===r?void 0:r.fontFamily),Array.from(o).filter(Boolean)},[a]),m=(0,r.useMemo)(()=>d.map(e=>eV(e)).filter(Boolean),[d]);(0,r.useEffect)(()=>{var e;let n=()=>{var e;let n=null===(e=o.current)||void 0===e?void 0:e.querySelector("[data-radix-scroll-area-viewport]");if(n){let e=n.scrollHeight-n.scrollTop<=n.clientHeight+10,s=n.scrollTop<=10;"new-at-bottom"===a.chatFlowDirection?l(!e):l(!s)}},s=null===(e=o.current)||void 0===e?void 0:e.querySelector("[data-radix-scroll-area-viewport]");return s&&s.addEventListener("scroll",n,{passive:!0}),()=>{s&&s.removeEventListener("scroll",n)}},[a.chatFlowDirection]),(0,r.useEffect)(()=>{if(!t){if("new-at-bottom"===a.chatFlowDirection&&n.current)n.current.scrollIntoView({behavior:a.animationEnabled?"smooth":"auto",block:"end"});else if("new-at-top"===a.chatFlowDirection&&o.current){let e=o.current.querySelector("[data-radix-scroll-area-viewport]");e&&e.scrollTo({top:0,behavior:a.animationEnabled?"smooth":"auto"})}}},[a,t]);let u=(e,a,n,s,r,o)=>{if(e&&a&&n&&s)return{backgroundImage:"linear-gradient(".concat(s,", ").concat(a,", ").concat(n,")")};if(r&&o){let e=(0,i.j)(r,o);if(e)return{backgroundColor:e,backgroundImage:"none"}}return{backgroundColor:"transparent",backgroundImage:"none"}},p=e=>{let n;let s={usernameColor:a.usernameColor,usernameBackgroundColor:a.usernameBackgroundColor,usernameBackgroundOpacity:a.usernameBackgroundOpacity,usernameBackgroundBorderRadius:a.usernameBackgroundBorderRadius,usernameStrokeWidth:a.usernameStrokeWidth,usernameStrokeColor:a.usernameStrokeColor,usernameBackgroundBorderWidth:a.usernameBackgroundBorderWidth,usernameBackgroundBorderColor:a.usernameBackgroundBorderColor,usernameGradientEnabled:a.usernameGradientEnabled,usernameGradientColor1:a.usernameGradientColor1,usernameGradientColor2:a.usernameGradientColor2,usernameGradientAngle:a.usernameGradientAngle,usernameTextGlowEnabled:a.usernameTextGlowEnabled,usernameTextGlowColor:a.usernameTextGlowColor,usernameTextGlowBlur:a.usernameTextGlowBlur,usernamePosition:a.usernamePosition,usernameRotation:a.usernameRotation,usernameDropShadowEnabled:!1,messageDropShadowEnabled:a.messageDropShadowEnabled,messageDropShadowColor:a.messageDropShadowColor,messageDropShadowX:a.messageDropShadowX,messageDropShadowY:a.messageDropShadowY,messageDropShadowBlur:a.messageDropShadowBlur,fontFamily:a.fontFamily,staticEffect:"none",roleIconUrl:"",cornerIconsEnabled:a.cornerIconsEnabled,cornerUploadedIcons:a.cornerUploadedIcons,cornerIconSize:a.cornerIconSize,cornerIconChance:a.cornerIconChance},r={messageColor:a.messageColor,messageBackgroundColor:a.messageBackgroundColor,messageBackgroundOpacity:a.messageBackgroundOpacity,messageBackgroundBorderRadius:a.messageBackgroundBorderRadius,messageStrokeWidth:a.messageStrokeWidth,messageStrokeColor:a.messageStrokeColor,messageBackgroundBorderWidth:a.messageBackgroundBorderWidth,messageBackgroundBorderColor:a.messageBackgroundBorderColor,messageGradientEnabled:a.messageGradientEnabled,messageGradientColor1:a.messageGradientColor1,messageGradientColor2:a.messageGradientColor2,messageGradientAngle:a.messageGradientAngle,messageTextGlowEnabled:a.messageTextGlowEnabled,messageTextGlowColor:a.messageTextGlowColor,messageTextGlowBlur:a.messageTextGlowBlur,fontFamily:a.fontFamily},o=!1;"streamer"===e&&a.streamerStylesEnabled?(n=a.streamerStyles,o=!0):"moderator"===e&&a.moderatorStylesEnabled?(n=a.moderatorStyles,o=!0):"vip"===e&&a.vipStylesEnabled?(n=a.vipStyles,o=!0):"subscriber"===e&&a.subscriberStylesEnabled&&(n=a.subscriberStyles,o=!0);let t=o&&n?{...s,...n}:s,l=o&&n?{...r,...n}:r,i=o&&n&&"boolean"==typeof n.cornerIconsEnabled,c=i?n.cornerIconsEnabled:a.cornerIconsEnabled,d=i&&n.cornerIconsEnabled?n.cornerUploadedIcons:a.cornerUploadedIcons,m=i&&n.cornerIconsEnabled&&n.cornerIconSize||a.cornerIconSize,p=i&&n.cornerIconsEnabled&&n.cornerIconChance||a.cornerIconChance,h=[],g=parseFloat(t.usernameStrokeWidth||"0");g>0&&t.usernameStrokeColor&&(h.push("".concat(t.usernameStrokeColor," ").concat(g,"px 0px 0px")),h.push("".concat(t.usernameStrokeColor," -").concat(g,"px 0px 0px")),h.push("".concat(t.usernameStrokeColor," 0px ").concat(g,"px 0px")),h.push("".concat(t.usernameStrokeColor," 0px -").concat(g,"px 0px"))),t.usernameTextGlowEnabled&&t.usernameTextGlowColor&&t.usernameTextGlowBlur&&h.push("0 0 ".concat(t.usernameTextGlowBlur,"px ").concat(t.usernameTextGlowColor));let x=u(t.usernameGradientEnabled,t.usernameGradientColor1,t.usernameGradientColor2,t.usernameGradientAngle,t.usernameBackgroundColor,t.usernameBackgroundOpacity),f=o&&t.usernameDropShadowEnabled?"drop-shadow(".concat(t.usernameDropShadowX,"px ").concat(t.usernameDropShadowY,"px ").concat(t.usernameDropShadowBlur,"px ").concat(t.usernameDropShadowColor,")"):"none",b={...x,textShadow:h.length>0?h.join(", "):"none",padding:"0.3em 0.7em",borderRadius:"".concat(t.usernameBackgroundBorderRadius,"px"),borderWidth:"".concat(t.usernameBackgroundBorderWidth||"0","px"),borderStyle:parseFloat(t.usernameBackgroundBorderWidth||"0")>0?"solid":"none",borderColor:t.usernameBackgroundBorderColor,color:t.usernameColor,transform:"rotate(".concat(t.usernameRotation||"0","deg)"),transformOrigin:"center",filter:f,fontFamily:t.fontFamily||a.fontFamily,display:"inline-flex",alignItems:"center",gap:"0.3em"};t.usernameGradientEnabled||(b.backgroundImage="none");let y=[],v=parseFloat(l.messageStrokeWidth||"0");v>0&&l.messageStrokeColor&&(y.push("".concat(l.messageStrokeColor," ").concat(v,"px 0px 0px")),y.push("".concat(l.messageStrokeColor," -").concat(v,"px 0px 0px")),y.push("".concat(l.messageStrokeColor," 0px ").concat(v,"px 0px")),y.push("".concat(l.messageStrokeColor," 0px -").concat(v,"px 0px"))),l.messageTextGlowEnabled&&l.messageTextGlowColor&&l.messageTextGlowBlur&&y.push("0 0 ".concat(l.messageTextGlowBlur,"px ").concat(l.messageTextGlowColor));let C=u(l.messageGradientEnabled,l.messageGradientColor1,l.messageGradientColor2,l.messageGradientAngle,l.messageBackgroundColor,l.messageBackgroundOpacity),w=o&&"boolean"==typeof(null==n?void 0:n.messageDropShadowEnabled)?n.messageDropShadowEnabled:a.messageDropShadowEnabled,j=o&&(null==n?void 0:n.messageDropShadowColor)?n.messageDropShadowColor:a.messageDropShadowColor,S=o&&(null==n?void 0:n.messageDropShadowX)?n.messageDropShadowX:a.messageDropShadowX,k=o&&(null==n?void 0:n.messageDropShadowY)?n.messageDropShadowY:a.messageDropShadowY,N=o&&(null==n?void 0:n.messageDropShadowBlur)?n.messageDropShadowBlur:a.messageDropShadowBlur,B=w?"drop-shadow(".concat(S,"px ").concat(k,"px ").concat(N,"px ").concat(j,")"):"none",E={...C,textShadow:y.length>0?y.join(", "):"none",padding:"0.5em 0.7em",borderRadius:"".concat(l.messageBackgroundBorderRadius,"px"),borderWidth:"".concat(l.messageBackgroundBorderWidth||"0","px"),borderStyle:parseFloat(l.messageBackgroundBorderWidth||"0")>0?"solid":"none",borderColor:l.messageBackgroundBorderColor,color:l.messageColor,fontFamily:l.fontFamily||a.fontFamily};return l.messageGradientEnabled||(E.backgroundImage="none"),{usernameStyle:b,messageStyle:E,usernamePosition:t.usernamePosition||"inline",usernameRotation:t.usernameRotation||"0",roleIconUrl:t.roleIconUrl,fontFamily:t.fontFamily||a.fontFamily,staticEffect:t.staticEffect||"none",containerStyleOverride:{filter:B},roleSpecificCornerIconsEnabled:c,roleSpecificCornerIcons:d,roleSpecificCornerIconSize:m,roleSpecificCornerIconChance:p}},h={...u(a.containerGradientEnabled,a.containerGradientColor1,a.containerGradientColor2,a.containerGradientAngle,a.containerBackground,a.containerBackgroundOpacity),padding:"".concat(a.chatPadding,"px"),fontSize:"".concat(a.usernameFontSize,"px"),fontWeight:a.usernameFontWeight,fontFamily:a.fontFamily,lineHeight:"1.5em",color:a.messageColor,height:"100%",width:"100%",overflow:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"new-at-top"===a.chatFlowDirection?"column-reverse":"column",...(e=>{switch(e){case"left":default:return{alignItems:"flex-start",marginLeft:"0",marginRight:"auto"};case"center":return{alignItems:"center",marginLeft:"auto",marginRight:"auto"};case"right":return{alignItems:"flex-end",marginLeft:"auto",marginRight:"0"}}})(a.chatAlignment)},g=(e,a)=>{let n={};return"subtle-glow-primary"===a?n={textShadow:"0 0 8px var(--primary)"}:"subtle-glow-accent"===a?n={textShadow:"0 0 8px var(--accent)"}:"dashed-border-primary"===a&&(n={}),{display:"flex",flexDirection:"inline"===e?"row":"column",alignItems:"inline"===e?"baseline":"stretch",marginBottom:"8px",wordBreak:"break-word",lineHeight:"1.4",position:"relative",width:"fit-content",maxWidth:"100%",...n}},x=(e,n,r,o,t,l,i)=>{let c=g(e,n),d=a.animationEnabled&&"none"!==a.animationIn?{animationName:"none"!==a.animationOut?"".concat(a.animationIn,", ").concat(a.animationOut):a.animationIn,animationDuration:"none"!==a.animationOut?"0.5s, 0.5s":"0.5s",animationDelay:"none"!==a.animationOut?"0s, ".concat(a.messageHideDelay):"0s",animationFillMode:"forwards",animationTimingFunction:"ease"}:{},m=null;if(o&&t&&t.length>0){let e=parseFloat(i||"0");if(!isNaN(e)&&e>0&&100*Math.random()<e){let e=t[Math.floor(Math.random()*t.length)];if(e&&e.url){let a=l||"24",n=[{top:"2px",left:"2px"},{top:"2px",right:"2px"},{bottom:"2px",left:"2px"},{bottom:"2px",right:"2px"}],r=n[Math.floor(Math.random()*n.length)];m=(0,s.jsx)("img",{src:e.url,alt:"Corner Icon","data-ai-hint":"decoration graphic",className:"stylizer-corner-icon",style:{position:"absolute",width:"".concat(a,"px"),height:"".concat(a,"px"),zIndex:2,pointerEvents:"none",...r}})}}}return{style:{...c,...d,...r},cornerIcon:m}},f=p(),b=p("streamer"),y=p("moderator"),v=p("vip"),C=p("subscriber"),w=(e,a,n,r,o,t,l,c,d,m,u,p,h,g)=>{let{style:f,cornerIcon:b}=x(r,d,m,u,p,h,g),y=(0,s.jsx)("div",{className:"username-wrapper",style:"inline"!==r?{marginBottom:"0.2em"}:{marginRight:"0.5em"},children:(0,s.jsxs)("span",{className:"username",style:n,children:[a&&(0,s.jsx)("img",{src:a,alt:"",className:"role-icon",style:{height:"1em",width:"auto",verticalAlign:"middle"},"data-ai-hint":"badge emblem"}),e]})}),v=(0,s.jsx)("div",{className:"message",style:l,children:t}),C=(0,s.jsxs)(s.Fragment,{children:[y,v]}),w=(0,s.jsxs)(s.Fragment,{children:[y,v]}),j=(0,s.jsxs)(s.Fragment,{children:[v,y]});return(0,s.jsxs)("div",{className:(0,i.cn)("chat-message",c),style:f,children:[b," ","inline"===r?C:"top"===r?w:j]},"".concat(e,"-").concat(null==t?void 0:t.toString().substring(0,10)))};return(0,s.jsxs)(c,{className:"shadow-lg overflow-hidden",children:[(0,s.jsx)("style",{children:"\n    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n    @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }\n    @keyframes zoomIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }\n    @keyframes slideInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }\n\n    @keyframes fadeOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; visibility: hidden; transform: translateY(-10px); } }\n    @keyframes fadeOutDown { from { opacity: 1; transform: translateY(0); } to { opacity: 0; visibility: hidden; transform: translateY(20px); } }\n    @keyframes zoomOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; visibility: hidden; transform: scale(0.8); } }\n    @keyframes slideOutLeft { from { opacity: 1; transform: translateX(0); } to { opacity: 0; visibility: hidden; transform: translateX(-20px); } }\n\n    @keyframes none { from { opacity: 1; transform: none; } to { opacity: 1; transform: none; } }\n    /* Add keyframes for static effects if needed */\n    @keyframes glow-pulse { /* ... */ }\n    @keyframes border-animation { /* ... */ }\n  "}),m.map(e=>(0,s.jsx)("link",{rel:"stylesheet",href:e},e)),(0,s.jsx)(eL,{ref:o,className:"h-[400px] w-full rounded-md border",style:{backgroundColor:"var(--background)"},children:(0,s.jsxs)("div",{id:"chat-container-preview",style:h,children:["new-at-bottom"===a.chatFlowDirection&&(0,s.jsx)("div",{style:{flexShrink:0,height:"1px"}}),w("Streamer",b.roleIconUrl,b.usernameStyle,b.usernamePosition,b.usernameRotation,(0,s.jsxs)(s.Fragment,{children:["Welcome everyone! ",(0,s.jsx)(eK,{})," Hope you enjoy it."]}),b.messageStyle,"streamer-message",b.staticEffect,b.containerStyleOverride,b.roleSpecificCornerIconsEnabled,b.roleSpecificCornerIcons,b.roleSpecificCornerIconSize,b.roleSpecificCornerIconChance),w("ModBot",y.roleIconUrl,y.usernameStyle,y.usernamePosition,y.usernameRotation,"Be respectful. No links. (Moderator)",y.messageStyle,"moderator-message",y.staticEffect,y.containerStyleOverride,y.roleSpecificCornerIconsEnabled,y.roleSpecificCornerIcons,y.roleSpecificCornerIconSize,y.roleSpecificCornerIconChance),w("VIP_User",v.roleIconUrl,v.usernameStyle,v.usernamePosition,v.usernameRotation,(0,s.jsxs)(s.Fragment,{children:["This stream is POG! ",(0,s.jsx)(eK,{})," ",(0,s.jsx)(eK,{})," (VIP)"]}),v.messageStyle,"vip-message",v.staticEffect,v.containerStyleOverride,v.roleSpecificCornerIconsEnabled,v.roleSpecificCornerIcons,v.roleSpecificCornerIconSize,v.roleSpecificCornerIconChance),w("SubScriber1",C.roleIconUrl,C.usernameStyle,C.usernamePosition,C.usernameRotation,"Just subscribed! Love the content! (Subscriber)",C.messageStyle,"subscriber-message",C.staticEffect,C.containerStyleOverride,C.roleSpecificCornerIconsEnabled,C.roleSpecificCornerIcons,C.roleSpecificCornerIconSize,C.roleSpecificCornerIconChance),w("User123",void 0,f.usernameStyle,f.usernamePosition,f.usernameRotation,"A very long message here to test how wrapping works and if the text aligns properly. This needs to be long enough to potentially wrap onto multiple lines. This needs to be long enough to potentially wrap onto multiple lines. (Regular User)",f.messageStyle,"user-message","none",f.containerStyleOverride,f.roleSpecificCornerIconsEnabled,f.roleSpecificCornerIcons,f.roleSpecificCornerIconSize,f.roleSpecificCornerIconChance),w("AnotherSub",C.roleIconUrl,C.usernameStyle,C.usernamePosition,C.usernameRotation,"Second sub message <3",C.messageStyle,"subscriber-message",C.staticEffect,C.containerStyleOverride,C.roleSpecificCornerIconsEnabled,C.roleSpecificCornerIcons,C.roleSpecificCornerIconSize,C.roleSpecificCornerIconChance),w("Streamer",b.roleIconUrl,b.usernameStyle,b.usernamePosition,b.usernameRotation,"Thanks for watching!",b.messageStyle,"streamer-message",b.staticEffect,b.containerStyleOverride,b.roleSpecificCornerIconsEnabled,b.roleSpecificCornerIcons,b.roleSpecificCornerIconSize,b.roleSpecificCornerIconChance),"new-at-top"===a.chatFlowDirection&&(0,s.jsx)("div",{style:{flexShrink:0,height:"1px"}}),(0,s.jsx)("div",{ref:n,style:{height:"1px",flexShrink:0}})]})})]})}var e$=n(3478);let eZ=e$.bL,eQ=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(e$.q7,{ref:a,className:(0,i.cn)("border-b last:border-b-0",n),...r})});eQ.displayName="AccordionItem";let e0=r.forwardRef((e,a)=>{let{className:n,children:r,...o}=e;return(0,s.jsx)(e$.Y9,{className:"flex",children:(0,s.jsxs)(e$.l9,{ref:a,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:no-underline [&[data-state=open]>svg]:rotate-180",n),...o,children:[r,(0,s.jsx)(y.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});e0.displayName=e$.l9.displayName;let e1=r.forwardRef((e,a)=>{let{className:n,children:r,...o}=e;return(0,s.jsx)(e$.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,s.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",n),children:r})})});e1.displayName=e$.UC.displayName;var e2=n(1462),e6=n(8718),e4=n(6472),e5=n(8271);function e3(){return(0,s.jsx)(eZ,{type:"single",collapsible:!0,className:"w-full bg-card shadow-lg rounded-lg p-4 mt-8",children:(0,s.jsxs)(eQ,{value:"item-1",children:[(0,s.jsx)(e0,{className:"text-lg font-semibold hover:no-underline",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(e2.A,{size:20}),"How to Use the Generated Files"]})}),(0,s.jsxs)(e1,{className:"pt-4 space-y-4 text-muted-foreground",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[(0,s.jsx)(e6.A,{size:16})," 1. Download the Files"]}),(0,s.jsx)("p",{children:'Click the "Download Files (.zip)" button to get a ZIP archive containing `index.html`, `style.css`, `script.js`, and an `icons` folder (if you uploaded any).'})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[(0,s.jsx)(e4.A,{size:16})," 2. Add Browser Source in OBS/Streamlabs"]}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 pl-2",children:[(0,s.jsx)("li",{children:'In your streaming software (OBS, Streamlabs Desktop, etc.), add a new "Browser" source.'}),(0,s.jsx)("li",{children:'In the source properties, check the box for "Local file".'}),(0,s.jsx)("li",{children:'Click "Browse" and select the `index.html` file you downloaded and extracted from the ZIP archive.'})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[(0,s.jsx)(e5.A,{size:16})," 3. Configure Source Dimensions"]}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 pl-2",children:[(0,s.jsx)("li",{children:"Set the Width and Height for the browser source. A good starting point might be 400px width and 600px height, but adjust as needed to fit your layout."}),(0,s.jsx)("li",{children:'Ensure the "Shutdown source when not visible" and "Refresh browser when scene becomes active" options are **unchecked** to maintain the connection.'})]})]}),(0,s.jsx)("p",{className:"text-sm pt-2 border-t border-border",children:'The `script.js` file will automatically connect to Twitch using the credentials you provided in the "Twitch Config" tab and display the chat messages according to your styles in `style.css`. Make sure your credentials are correct!'})]})]})})}var e8=n(6923),e7=n(9119),e9=n(7481);let ae={containerBackground:"#000000",containerBackgroundOpacity:"0.7",chatPadding:"10",messageHideDelay:"15s",chatAlignment:"left",fontFamily:"Roboto, Arial, sans-serif",usernameFontSize:"16",usernameFontWeight:"700",usernameColor:"#FFFFFF",usernameBackgroundColor:"transparent",usernameBackgroundOpacity:"1.0",usernameBackgroundBorderRadius:"8",usernameStrokeWidth:"0",usernameStrokeColor:"#000000",usernameBackgroundBorderWidth:"0",usernameBackgroundBorderColor:"#000000",usernamePosition:"inline",usernameRotation:"0",messageColor:"#CCCCCC",messageBackgroundColor:"transparent",messageBackgroundOpacity:"1.0",messageBackgroundBorderRadius:"12",messageStrokeWidth:"0",messageStrokeColor:"#000000",messageBackgroundBorderWidth:"0",messageBackgroundBorderColor:"#000000",animationEnabled:!0,animationIn:"fadeInUp",animationOut:"fadeOut",containerGradientEnabled:!1,containerGradientColor1:"#4F4F4F",containerGradientColor2:"#2C2C2C",containerGradientAngle:"to bottom right",usernameGradientEnabled:!1,usernameGradientColor1:"#7F00FF",usernameGradientColor2:"#E100FF",usernameGradientAngle:"to right",messageGradientEnabled:!1,messageGradientColor1:"#333333",messageGradientColor2:"#1A1A1A",messageGradientAngle:"to right",messageDropShadowEnabled:!0,messageDropShadowColor:"rgba(0,0,0,0.3)",messageDropShadowX:"1",messageDropShadowY:"1",messageDropShadowBlur:"1",usernameTextGlowEnabled:!1,usernameTextGlowColor:"#FFFFFF",usernameTextGlowBlur:"5",messageTextGlowEnabled:!1,messageTextGlowColor:"#CCCCCC",messageTextGlowBlur:"5",streamerStylesEnabled:!1,streamerStyles:{usernameColor:"#FF69B4",usernameBackgroundColor:"rgba(50,0,25,0.3)",messageColor:"#FFD0DD",fontFamily:"Roboto, Arial, sans-serif",roleIconUrl:"",usernamePosition:"inline",usernameRotation:"0",staticEffect:"none",usernameDropShadowEnabled:!1,messageDropShadowEnabled:!1,cornerIconsEnabled:void 0,cornerUploadedIcons:void 0,cornerIconSize:void 0,cornerIconChance:void 0},moderatorStylesEnabled:!1,moderatorStyles:{usernameColor:"#00FF00",usernameBackgroundColor:"rgba(0,50,0,0.3)",messageColor:"#D0FFD0",fontFamily:"Roboto, Arial, sans-serif",roleIconUrl:"",usernamePosition:"inline",usernameRotation:"0",staticEffect:"none",usernameDropShadowEnabled:!1,messageDropShadowEnabled:!1,cornerIconsEnabled:void 0,cornerUploadedIcons:void 0,cornerIconSize:void 0,cornerIconChance:void 0},vipStylesEnabled:!1,vipStyles:{usernameColor:"#FFD700",usernameBackgroundColor:"rgba(50,40,0,0.3)",messageColor:"#FFFACD",fontFamily:"Roboto, Arial, sans-serif",roleIconUrl:"",usernamePosition:"inline",usernameRotation:"0",staticEffect:"none",usernameDropShadowEnabled:!1,messageDropShadowEnabled:!1,cornerIconsEnabled:void 0,cornerUploadedIcons:void 0,cornerIconSize:void 0,cornerIconChance:void 0},subscriberStylesEnabled:!1,subscriberStyles:{usernameColor:"#DA70D6",usernameBackgroundColor:"rgba(50,0,50,0.3)",messageColor:"#FFD0FF",fontFamily:"Roboto, Arial, sans-serif",roleIconUrl:"",usernamePosition:"inline",usernameRotation:"0",staticEffect:"none",usernameDropShadowEnabled:!1,messageDropShadowEnabled:!1,cornerIconsEnabled:void 0,cornerUploadedIcons:void 0,cornerIconSize:void 0,cornerIconChance:void 0},cornerIconsEnabled:!1,cornerUploadedIcons:[],cornerIconSize:"24",cornerIconChance:"0",chatFlowDirection:"new-at-bottom",twitchUsername:"",twitchOAuthToken:"",twitchChannelToJoin:""},aa=[{key:"default",name:"Default",styles:ae},{key:"neon-glow",name:"Neon Glow",styles:{containerBackground:"#1A1A2E",containerBackgroundOpacity:"0.8",usernameFontSize:"18",fontFamily:"Poppins, sans-serif",usernameColor:"#00FFFF",messageColor:"#E0E0E0",usernameTextGlowEnabled:!0,usernameTextGlowColor:"#00FFFF",usernameTextGlowBlur:"8",messageTextGlowEnabled:!0,messageTextGlowColor:"rgba(255, 255, 255, 0.3)",messageTextGlowBlur:"4",messageDropShadowEnabled:!0,messageDropShadowColor:"rgba(0,0,0,0.6)",messageDropShadowX:"0",messageDropShadowY:"2",messageDropShadowBlur:"3",usernamePosition:"top",animationIn:"fadeInLeft",animationOut:"fadeOut",chatAlignment:"center",moderatorStylesEnabled:!0,moderatorStyles:{usernameColor:"#FF00FF",usernameTextGlowEnabled:!0,usernameTextGlowColor:"#FF00FF",cornerIconsEnabled:void 0},vipStylesEnabled:!0,vipStyles:{usernameColor:"#FFFF00",usernameTextGlowEnabled:!0,usernameTextGlowColor:"#FFFF00",cornerIconsEnabled:void 0},subscriberStylesEnabled:!0,subscriberStyles:{usernameColor:"#00FF7F",usernameTextGlowEnabled:!0,usernameTextGlowColor:"#00FF7F",cornerIconsEnabled:void 0},streamerStyles:{usernameColor:"#FF69B4",usernameTextGlowEnabled:!0,usernameTextGlowColor:"#FF69B4",cornerIconsEnabled:void 0}}},{key:"retro-gamer",name:"Retro Gamer",styles:{containerBackground:"#202040",containerBackgroundOpacity:"0.9",fontFamily:'"Courier New", Courier, monospace',usernameFontSize:"16",usernameFontWeight:"700",usernameColor:"#FFFFFF",usernameBackgroundColor:"#FF007F",usernameBackgroundOpacity:"1.0",usernameBackgroundBorderRadius:"0",messageColor:"#00FF00",messageBackgroundColor:"#303050",messageBackgroundOpacity:"1.0",messageBackgroundBorderRadius:"0",messageStrokeWidth:"1.5",messageStrokeColor:"#000000",usernamePosition:"inline",animationIn:"zoomIn",animationOut:"zoomOut",messageDropShadowEnabled:!1,chatAlignment:"right",moderatorStylesEnabled:!0,moderatorStyles:{usernameBackgroundColor:"#00FFFF",usernameColor:"#000000",cornerIconsEnabled:void 0},vipStylesEnabled:!0,vipStyles:{usernameBackgroundColor:"#FFFF00",usernameColor:"#000000",cornerIconsEnabled:void 0},subscriberStylesEnabled:!0,subscriberStyles:{usernameBackgroundColor:"#FF7F00",usernameColor:"#000000",cornerIconsEnabled:void 0},streamerStyles:{usernameBackgroundColor:"#FFFFFF",usernameColor:"#000000",cornerIconsEnabled:void 0}}},{key:"minimal-light",name:"Minimal Light",styles:{containerBackground:"#F0F0F0",containerBackgroundOpacity:"0.9",chatPadding:"8",fontFamily:'"Open Sans", sans-serif',usernameFontSize:"14",usernameFontWeight:"400",usernameColor:"#333333",messageColor:"#555555",usernamePosition:"inline",messageDropShadowEnabled:!1,animationEnabled:!1,usernameBackgroundColor:"transparent",messageBackgroundColor:"transparent",chatAlignment:"left",moderatorStylesEnabled:!0,moderatorStyles:{usernameColor:"#007ACC",cornerIconsEnabled:void 0},vipStylesEnabled:!0,vipStyles:{usernameColor:"#E67E22",cornerIconsEnabled:void 0},subscriberStylesEnabled:!0,subscriberStyles:{usernameColor:"#9B59B6",cornerIconsEnabled:void 0},streamerStyles:{usernameColor:"#D35400",cornerIconsEnabled:void 0}}},{key:"clean-dark",name:"Clean Dark",styles:{containerBackground:"#1F1F1F",containerBackgroundOpacity:"0.85",chatPadding:"12",fontFamily:"Lato, sans-serif",usernameFontSize:"15",usernameFontWeight:"700",usernameColor:"#EAEAEA",messageColor:"#B0B0B0",usernamePosition:"inline",usernameBackgroundBorderRadius:"4",messageBackgroundBorderRadius:"6",messageDropShadowEnabled:!0,messageDropShadowColor:"rgba(0,0,0,0.4)",messageDropShadowX:"0",messageDropShadowY:"1",messageDropShadowBlur:"2",animationIn:"fadeInUp",animationOut:"fadeOut",chatAlignment:"left",moderatorStylesEnabled:!0,moderatorStyles:{usernameColor:"#58D68D",cornerIconsEnabled:void 0},vipStylesEnabled:!0,vipStyles:{usernameColor:"#F1C40F",cornerIconsEnabled:void 0},subscriberStylesEnabled:!0,subscriberStyles:{usernameColor:"#AF7AC5",cornerIconsEnabled:void 0},streamerStyles:{usernameColor:"#5DADE2",cornerIconsEnabled:void 0}}}];function an(){let[e,a]=(0,r.useState)(ae),{toast:n}=(0,e9.dj)(),t=(0,r.useRef)(null),i=async()=>{let a=new(l()),s=function(e){let a=(e=>{var a,n,s,r;let o=new Set;return o.add(eV(e.fontFamily)),e.streamerStylesEnabled&&o.add(eV(null===(a=e.streamerStyles)||void 0===a?void 0:a.fontFamily)),e.moderatorStylesEnabled&&o.add(eV(null===(n=e.moderatorStyles)||void 0===n?void 0:n.fontFamily)),e.vipStylesEnabled&&o.add(eV(null===(s=e.vipStyles)||void 0===s?void 0:s.fontFamily)),e.subscriberStylesEnabled&&o.add(eV(null===(r=e.subscriberStyles)||void 0===r?void 0:r.fontFamily)),Array.from(o).filter(e=>null!==e)})(e).map(e=>"@import url('".concat(e,"');")).join("\n"),n=function(e){let a=e.fontFamily||"Arial, sans-serif",n=e.usernameFontSize||"16",s=e.usernameFontWeight||"700";return"\n:root {\n    --username-color: ".concat(e.usernameColor,";\n    --message-color: ").concat(e.messageColor,";\n    --font-family: ").concat(a,";\n    --font-size: ").concat(n,"px;\n    --font-weight: ").concat(s,";\n    --chat-padding: ").concat(e.chatPadding,"px;\n    --corner-icon-size: ").concat(e.cornerIconSize||"24","px; /* Global default */\n    --chat-width: 100%; /* Default width, can be overridden */\n    /* Add more global variables as needed */\n}")}(e),s="\n    color: var(--username-color) !important;\n    ".concat(eH("username",e,!0,!0)," /* Pass true for isDefault */\n    ").concat(eX("username",e,e)," /* Pass global styles twice for defaults */\n    padding: 0.3em 0.7em !important;\n    border-radius: ").concat(e.usernameBackgroundBorderRadius,"px !important;\n    border-width: ").concat(e.usernameBackgroundBorderWidth,"px !important;\n    border-style: ").concat(parseFloat(e.usernameBackgroundBorderWidth)>0?"solid":"none"," !important;\n    border-color: ").concat(e.usernameBackgroundBorderColor," !important;\n    transform: rotate(").concat(e.usernameRotation,"deg) !important;\n    transform-origin: center !important;\n    /* Default username does not have its own drop shadow by default, inherits message shadow via parent */\n    "),r="\n    color: var(--message-color) !important;\n    ".concat(eH("message",e,!0,!0)," /* Pass true for isDefault */\n    ").concat(eX("message",e,e)," /* Pass global styles twice for defaults */\n    padding: 0.5em 0.7em !important;\n    border-radius: ").concat(e.messageBackgroundBorderRadius,"px !important;\n    border-width: ").concat(e.messageBackgroundBorderWidth,"px !important;\n    border-style: ").concat(parseFloat(e.messageBackgroundBorderWidth)>0?"solid":"none"," !important;\n    border-color: ").concat(e.messageBackgroundBorderColor," !important;\n    "),o=e.animationEnabled&&e.animationIn&&"none"!==e.animationIn,t=e.animationEnabled&&e.animationOut&&"none"!==e.animationOut,l="none",i="0s",c="0s",d="none",m="ease";o&&t?(l="".concat(e.animationIn,", ").concat(e.animationOut),i="0.5s, 0.5s",c="0s, ".concat(e.messageHideDelay),d="forwards",m="ease, ease"):o?(l=e.animationIn,i="0.5s",c="0s",d="forwards",m="ease"):t&&(l=e.animationOut,i="0.5s",c=e.messageHideDelay,d="forwards",m="ease");let u=e.animationEnabled?"\n    animation-name: ".concat(l," !important;\n    animation-duration: ").concat(i," !important;\n    animation-delay: ").concat(c," !important;\n    animation-fill-mode: ").concat(d," !important;\n    animation-timing-function: ").concat(m," !important;\n    /* Consider vendor prefixes if broader compatibility is strictly required */\n    -webkit-animation-name: ").concat(l," !important;\n    -webkit-animation-duration: ").concat(i," !important;\n    -webkit-animation-delay: ").concat(c," !important;\n    -webkit-animation-fill-mode: ").concat(d," !important;\n    -webkit-animation-timing-function: ").concat(m," !important;\n    "):"",p=e.animationEnabled?"\n/* --- Keyframes for Animations --- */\n@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n@-webkit-keyframes fadeInUp { from { opacity: 0; -webkit-transform: translateY(20px); } to { opacity: 1; -webkit-transform: translateY(0); } }\n\n@keyframes fadeInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }\n@-webkit-keyframes fadeInLeft { from { opacity: 0; -webkit-transform: translateX(-20px); } to { opacity: 1; -webkit-transform: translateX(0); } }\n\n@keyframes zoomIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }\n@-webkit-keyframes zoomIn { from { opacity: 0; -webkit-transform: scale(0.8); } to { opacity: 1; -webkit-transform: scale(1); } }\n\n@keyframes slideInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }\n@-webkit-keyframes slideInRight { from { opacity: 0; -webkit-transform: translateX(20px); } to { opacity: 1; -webkit-transform: translateX(0); } }\n\n\n@keyframes fadeOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; visibility: hidden; transform: translateY(-10px); } }\n@-webkit-keyframes fadeOut { from { opacity: 1; -webkit-transform: translateY(0); } to { opacity: 0; visibility: hidden; -webkit-transform: translateY(-10px); } }\n\n@keyframes fadeOutDown { from { opacity: 1; transform: translateY(0); } to { opacity: 0; visibility: hidden; transform: translateY(20px); } }\n@-webkit-keyframes fadeOutDown { from { opacity: 1; -webkit-transform: translateY(0); } to { opacity: 0; visibility: hidden; -webkit-transform: translateY(20px); } }\n\n@keyframes zoomOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; visibility: hidden; transform: scale(0.8); } }\n@-webkit-keyframes zoomOut { from { opacity: 1; -webkit-transform: scale(1); } to { opacity: 0; visibility: hidden; -webkit-transform: scale(0.8); } }\n\n@keyframes slideOutLeft { from { opacity: 1; transform: translateX(0); } to { opacity: 0; visibility: hidden; transform: translateX(-20px); } }\n@-webkit-keyframes slideOutLeft { from { opacity: 1; -webkit-transform: translateX(0); } to { opacity: 0; visibility: hidden; -webkit-transform: translateX(-20px); } }\n\n@keyframes none { from { opacity: 1; transform: none; } to { opacity: 1; transform: none; } }\n@-webkit-keyframes none { from { opacity: 1; -webkit-transform: none; } to { opacity: 1; -webkit-transform: none; } }\n\n/* Keyframes for static effects */\n/* Example: Subtle Glow Pulse */\n@keyframes subtle-glow-pulse {\n  0%, 100% { text-shadow: 0 0 5px hsla(var(--primary), 0.7); }\n  50% { text-shadow: 0 0 10px hsla(var(--primary), 0.9); }\n}\n/* Example: Animated Border */\n@keyframes animated-border {\n  0% { border-color: hsla(var(--accent), 0.5); }\n  50% { border-color: hsla(var(--accent), 1); }\n  100% { border-color: hsla(var(--accent), 0.5); }\n}\n/* Add more keyframes for other static effects as needed */\n":"",h="";e.streamerStylesEnabled&&(h+=eJ("streamer",e.streamerStyles,e)),e.moderatorStylesEnabled&&(h+=eJ("moderator",e.moderatorStyles,e)),e.vipStylesEnabled&&(h+=eJ("vip",e.vipStyles,e)),e.subscriberStylesEnabled&&(h+=eJ("subscriber",e.subscriberStyles,e));let g="";g="top"===e.usernamePosition?"\n    /* Default layout: Username Top */\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) {\n        flex-direction: column !important;\n        align-items: flex-start !important;\n    }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .username-wrapper { order: 1 !important; margin-bottom: 0.2em !important; margin-right: 0 !important; }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .message { order: 2 !important; }":"bottom"===e.usernamePosition?"\n    /* Default layout: Username Bottom */\n     .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) {\n        flex-direction: column !important;\n        align-items: flex-start !important;\n    }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .message { order: 1 !important; margin-top: 0.2em !important; }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .username-wrapper { order: 2 !important; margin-right: 0 !important; }":"\n    /* Default layout: Username Inline */\n     .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) {\n        flex-direction: row !important;\n        align-items: baseline !important; /* Align baselines for inline */\n    }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .username-wrapper { order: initial !important; margin-right: 0.5em !important; margin-bottom: 0 !important; margin-top: 0 !important; }\n    .chat-message:not(.streamer-message):not(.moderator-message):not(.vip-message):not(.subscriber-message) .message { order: initial !important; }";let x="new-at-top"===e.chatFlowDirection?"\n    #chat-container {\n        display: flex;\n        flex-direction: column-reverse; /* New messages appear at the top */\n        justify-content: flex-end; /* Align content to bottom when reversed */\n    }":"\n    #chat-container {\n        display: flex;\n        flex-direction: column; /* New messages appear at the bottom */\n    }",f="";switch(e.chatAlignment){case"left":f="#chat-container { align-items: flex-start !important; } .chat-message { margin-left: 0 !important; margin-right: auto !important; }";break;case"center":f="#chat-container { align-items: center !important; } .chat-message { margin-left: auto !important; margin-right: auto !important; }";break;case"right":f="#chat-container { align-items: flex-end !important; } .chat-message { margin-left: auto !important; margin-right: 0 !important; }"}return"\n".concat(a,"\n\n").concat(n,"\n\n* {\n    box-sizing: border-box !important;\n    margin: 0; /* Reset default margins */\n    padding: 0; /* Reset default padding */\n}\n\nhtml, body {\n    height: 100% !important;\n    overflow: hidden !important;\n    background: transparent !important; /* Ensure body is transparent */\n}\n\n#chat-container {\n    width: var(--chat-width) !important;\n    height: 100vh !important;\n    overflow-y: auto !important; /* Enable vertical scrolling */\n    overflow-x: hidden !important;\n    padding: var(--chat-padding) !important;\n    box-sizing: border-box !important;\n    ").concat(eH("container",e,!0,!0)," /* Container background */\n    font-family: var(--font-family) !important;\n    font-size: var(--font-size) !important;\n    font-weight: var(--font-weight) !important;\n    line-height: 1.5em !important;\n    color: var(--message-color) !important;\n    position: absolute !important; /* Keep absolute for overlay */\n    bottom: 0 !important;\n    left: 0 !important;\n}\n").concat(x," /* Apply flex direction for message flow */\n").concat(f,' /* Apply horizontal alignment */\n\n#chat-container:empty::after {\n    content: "Chat is empty. Waiting for messages...";\n    color: var(--message-color);\n    font-style: italic;\n    display: block;\n    padding: 20px;\n    text-align: center;\n    width: 100%; /* Ensure takes full width */\n}\n\n.chat-message {\n    margin-bottom: 8px !important; /* Space between messages */\n    ').concat(e_("message",e,e)," /* Default message shadow */\n    word-break: break-word !important;\n    ").concat(u," /* Apply animations */\n    line-height: 1.4 !important;\n    position: relative !important; /* For corner icons and absolute positioning */\n    width: fit-content !important; /* Fit content for alignment */\n    max-width: 100% !important; /* Prevent overflow */\n    font-family: var(--font-family) !important; /* Default message font */\n    font-size: var(--font-size) !important;\n    font-weight: var(--font-weight) !important;\n    display: flex !important; /* Use flex for all messages initially */\n}\n").concat(g," /* Apply default message layout */\n\n\n.chat-message.deleted {\n    visibility: hidden !important;\n}\n\n.username-wrapper {\n    display: inline-flex !important;\n    align-items: center !important; /* Center icon/text vertically */\n    position: relative !important;\n    z-index: 1 !important;\n    flex-shrink: 0 !important; /* Prevent shrinking */\n    gap: 0.3em !important; /* Space between icon and username */\n}\n.role-icon {\n    /* Placeholder for icon, styled per role */\n    display: none; /* Hidden by default, shown by role CSS */\n    width: 1em;\n    height: 1em;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    flex-shrink: 0;\n}\n\n.username {\n    font-weight: inherit !important; /* Inherit from container or role */\n    position: relative !important;\n    max-width: 150px !important; /* Limit width */\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    vertical-align: middle !important; /* Align baseline with message */\n    display: inline-block !important; /* Treat like text */\n    ").concat(s," /* Apply default username styles */\n}\n\n.message {\n    font-weight: inherit !important;\n    line-height: inherit !important;\n    word-wrap: break-word !important;\n    overflow-wrap: break-word !important;\n    white-space: normal !important; /* Allow text wrapping */\n    position: relative !important;\n    z-index: 0 !important;\n    vertical-align: middle !important; /* Align baseline with username */\n    flex-grow: 1 !important; /* Take remaining space */\n    min-width: 0 !important; /* Prevent flex overflow */\n    display: inline !important; /* Allow natural text flow */\n    ").concat(r," /* Apply default message styles */\n}\n\n").concat(h," /* Apply role-specific overrides */\n\n/* Hide the colon TMI might add */\n.colon {\n    display: none !important;\n}\n\n.emote {\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: contain !important;\n    position: relative !important;\n    display: inline-block !important;\n    vertical-align: middle !important;\n    line-height: 1 !important;\n    height: 1.2em !important; /* Adjust based on font size */\n    width: auto !important; /* Maintain aspect ratio */\n    margin: 0 0.1em !important;\n}\n.emote img {\n    display: inline-block !important;\n    height: 1em !important; /* Match line height */\n    vertical-align: middle !important;\n    opacity: 1 !important; /* Ensure visible */\n}\n\n\n.stylizer-corner-icon {\n    position: absolute !important;\n    width: var(--corner-icon-size) !important; /* Use CSS variable for default size */\n    height: var(--corner-icon-size) !important;\n    background-size: contain !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    z-index: 2 !important; /* Above message content */\n    pointer-events: none !important;\n    /* JS will set top/left/right/bottom */\n}\n\n/* --- Static Effect Styling Examples --- */\n/* These classes should be added by JS based on roleStyles.staticEffect */\n.effect-subtle-glow-primary .message,\n.effect-subtle-glow-primary .username {\n    /* Use keyframes or direct text-shadow */\n    text-shadow: 0 0 8px hsl(var(--primary)), var(--original-text-shadow, none) !important;\n     /* animation: subtle-glow-pulse 2s infinite alternate; */\n}\n.effect-subtle-glow-accent .message,\n.effect-subtle-glow-accent .username {\n    text-shadow: 0 0 8px hsl(var(--accent)), var(--original-text-shadow, none) !important;\n}\n.effect-dashed-border-primary .message,\n.effect-dashed-border-primary .username {\n    border-style: dashed !important;\n    border-color: hsl(var(--primary)) !important;\n    /* Ensure border width is sufficient */\n     border-width: ").concat(Math.max(1,parseFloat(e.messageBackgroundBorderWidth)),"px !important;\n}\n.effect-animated-border-accent .message,\n.effect-animated-border-accent .username {\n     border-style: solid !important; /* Start with solid for animation */\n     border-width: ").concat(Math.max(1,parseFloat(e.messageBackgroundBorderWidth)),"px !important;\n     animation: animated-border 2s infinite linear !important;\n}\n/* --- Add more effect styles here --- */\n\n\n").concat(p," /* Include keyframes if animations are enabled */\n").trim()}(e),r=function(e){let a=parseFloat(e.cornerIconChance||"0"),n=e=>{if(!e||0===e.length)return"[]";try{return JSON.stringify(e.map(e=>({url:e.url})))}catch(e){return console.error("Error stringifying icons:",e),"[]"}},s=a=>{if(!e["".concat(a,"Enabled")]||!e[a])return"undefined";let s=e[a],r=parseFloat(s.cornerIconChance||e.cornerIconChance||"0"),o=s.cornerIconSize||e.cornerIconSize||"24";return"{\n            cornerIconsEnabled: ".concat("boolean"==typeof s.cornerIconsEnabled?s.cornerIconsEnabled:e.cornerIconsEnabled,",\n            cornerUploadedIcons: ").concat(n(s.cornerUploadedIcons),",\n            cornerIconSize: '").concat(o,"px',\n            cornerIconChance: ").concat(isNaN(r)?0:r/100,"\n        }")};return"\n(function() {\n    'use strict';\n\n    // --- Part 1: Configuration from Styles ---\n    const STYLES_CONFIG = {\n        // Global Corner Icons\n        cornerIconsEnabled: ".concat(e.cornerIconsEnabled,",\n        cornerUploadedIcons: ").concat(n(e.cornerUploadedIcons),",\n        cornerIconSize: '").concat(e.cornerIconSize||"24","px',\n        cornerIconChance: ").concat(isNaN(a)?0:a/100,",\n        // Other Global Settings\n        maxMessages: ").concat(100,",\n        chatFlowDirection: '").concat(e.chatFlowDirection||"new-at-bottom","', // Add chat flow direction\n        // Role-Specific Configurations\n        streamerStyles: ").concat(s("streamerStyles"),",\n        moderatorStyles: ").concat(s("moderatorStyles"),",\n        vipStyles: ").concat(s("vipStyles"),",\n        subscriberStyles: ").concat(s("subscriberStyles"),"\n    };\n\n    // --- Part 2: Helper Functions ---\n    const htmlEntities = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#39;' };\n    function escapeHtml(str) {\n        if (typeof str !== 'string') return '';\n        return str.replace(/[&<>\"']/g, match => htmlEntities[match]);\n    }\n\n    function parseTwitchEmotes(text, emotes) {\n        if (!emotes) return escapeHtml(text);\n        const emoteArray = [];\n        for (const emoteId in emotes) {\n             if (typeof emotes[emoteId] === 'object' && emotes[emoteId] !== null) {\n                emotes[emoteId].forEach(range => {\n                     if (typeof range === 'string') {\n                         const [start, end] = range.split('-').map(Number);\n                         if (!isNaN(start) && !isNaN(end)) {\n                              emoteArray.push({ id: emoteId, start, end, name: text.substring(start, end + 1) });\n                         }\n                     }\n                });\n            }\n        }\n        emoteArray.sort((a, b) => a.start - b.start);\n        let result = '';\n        let lastIndex = 0;\n        emoteArray.forEach(emote => {\n            result += escapeHtml(text.substring(lastIndex, emote.start));\n            result += `<img src=\"https://static-cdn.jtvnw.net/emoticons/v2/${emote.id}/default/dark/1.0\" class=\"emote\" alt=\"${escapeHtml(emote.name)}\">`;\n            lastIndex = emote.end + 1;\n        });\n        result += escapeHtml(text.substring(lastIndex));\n        return result;\n    }\n\n    function addRandomCornerIconToElement(messageElement, roleKey) {\n        let iconsEnabled = STYLES_CONFIG.cornerIconsEnabled;\n        let iconsToUse = STYLES_CONFIG.cornerUploadedIcons;\n        let iconSize = STYLES_CONFIG.cornerIconSize;\n        let iconChance = STYLES_CONFIG.cornerIconChance;\n\n        // Check if role-specific settings exist and should override global\n        const roleConfig = STYLES_CONFIG[roleKey];\n        if (roleConfig && typeof roleConfig.cornerIconsEnabled === 'boolean') {\n            // Role explicitly defines enablement\n            iconsEnabled = roleConfig.cornerIconsEnabled;\n            if (iconsEnabled && roleConfig.cornerUploadedIcons && roleConfig.cornerUploadedIcons.length > 0) {\n                // Role enabled AND has icons, use role settings\n                iconsToUse = roleConfig.cornerUploadedIcons;\n                iconSize = roleConfig.cornerIconSize || iconSize; // Use role size or fallback to current (which might be global)\n                iconChance = typeof roleConfig.cornerIconChance === 'number' ? roleConfig.cornerIconChance : iconChance; // Use role chance or fallback\n            } else if (!iconsEnabled) {\n                 // Role explicitly disabled, so no icons regardless of global setting\n                 iconsToUse = []; // Ensure no icons are used\n            }\n            // If role is enabled but has no icons, iconsToUse falls back to global below\n        } else if (roleConfig && roleConfig.cornerUploadedIcons && roleConfig.cornerUploadedIcons.length > 0) {\n             // Role doesn't define enablement, but HAS icons. Use global enablement, but role icons/size/chance.\n             if (iconsEnabled) { // Only proceed if global is enabled\n                 iconsToUse = roleConfig.cornerUploadedIcons;\n                 iconSize = roleConfig.cornerIconSize || iconSize;\n                 iconChance = typeof roleConfig.cornerIconChance === 'number' ? roleConfig.cornerIconChance : iconChance;\n             }\n        }\n        // If we reach here, either use global settings or role settings determined above.\n\n\n        if (!iconsEnabled || !iconsToUse || iconsToUse.length === 0 || iconChance <= 0) {\n            return; // Exit if icons are effectively disabled, no icons available, or chance is zero\n        }\n\n        if (Math.random() >= iconChance) {\n            return; // Exit based on random chance\n        }\n\n        const iconData = iconsToUse[Math.floor(Math.random() * iconsToUse.length)];\n        if (!iconData || !iconData.url) {\n            return; // Exit if selected icon data is invalid\n        }\n\n        const iconElement = document.createElement('img');\n        iconElement.src = iconData.url;\n        iconElement.alt = 'Corner Icon';\n        // Class for CSS styling is applied in css-code.tsx (.stylizer-corner-icon)\n        // JS applies inline styles for position and size only.\n        iconElement.style.position = 'absolute';\n        iconElement.style.width = iconSize; // Use determined size\n        iconElement.style.height = iconSize; // Use determined size\n        iconElement.style.zIndex = '2'; // Ensure it's above message content\n        iconElement.style.pointerEvents = 'none';\n        iconElement.classList.add('stylizer-corner-icon'); // Add class for CSS\n\n\n        const positions = [\n            { top: '2px', left: '2px' }, { top: '2px', right: '2px' },\n            { bottom: '2px', left: '2px' }, { bottom: '2px', right: '2px' },\n        ];\n        const randomPosition = positions[Math.floor(Math.random() * positions.length)];\n        Object.assign(iconElement.style, randomPosition);\n\n        // Ensure message element can contain absolutely positioned children\n        const messageComputedStyle = window.getComputedStyle(messageElement);\n        if (messageComputedStyle.position === 'static') {\n            messageElement.style.position = 'relative';\n        }\n        // Prepend or append based on desired layering, append usually puts it on top\n        messageElement.appendChild(iconElement);\n    }\n\n    // --- Part 3: Twitch Client Logic (tmi.js) ---\n    const TWITCH_USERNAME = '").concat(e.twitchUsername||"","';\n    const TWITCH_OAUTH_TOKEN = '").concat(e.twitchOAuthToken||"","'; // Make sure it starts with 'oauth:'\n    const TWITCH_CHANNEL_TO_JOIN = '").concat(e.twitchChannelToJoin||"","';\n\n    const chatDisplayContainer = document.getElementById('chat-container');\n\n    if (typeof tmi === 'undefined') {\n        console.warn('TMI.js library not found. Chat functionality requires TMI.js. Include it in your HTML: <script src=\"https://cdn.jsdelivr.net/npm/tmi.js/dist/tmi.min.js\"><\/script>');\n        showError('TMI.js library not found.');\n        return;\n    }\n     if (!chatDisplayContainer) {\n         console.error('#chat-container element not found in the HTML. Cannot display chat.');\n         // Attempt to create it dynamically as a fallback? Or just fail gracefully.\n         // For now, we stop execution.\n         return;\n     }\n\n    // Validate credentials format (basic check)\n    let canConnect = true;\n    if (!TWITCH_USERNAME) { console.warn('Twitch username is missing.'); showError('Twitch username missing in config.'); canConnect = false; }\n    if (!TWITCH_OAUTH_TOKEN || !TWITCH_OAUTH_TOKEN.startsWith('oauth:')) { console.warn('Twitch OAuth token is missing or invalid (must start with \"oauth:\").'); showError('Twitch OAuth token missing/invalid.'); canConnect = false;}\n    if (!TWITCH_CHANNEL_TO_JOIN) { console.warn('Twitch channel to join is missing.'); showError('Twitch channel name missing.'); canConnect = false; }\n\n    if (!canConnect) {\n        console.error(\"Cannot connect to Twitch due to missing/invalid configuration.\");\n        return; // Stop execution if config is bad\n    }\n\n\n    const tmiClient = new tmi.Client({\n        options: { debug: false, skipUpdatingEmotesets: true }, // Disable debug logging for production\n        connection: { secure: true, reconnect: true, maxReconnectAttempts: 5, reconnectInterval: 5000 }, // Increased attempts/interval\n        identity: { username: TWITCH_USERNAME, password: TWITCH_OAUTH_TOKEN },\n        channels: [TWITCH_CHANNEL_TO_JOIN]\n    });\n\n    tmiClient.on('connected', (address, port) => {\n        console.log(`Twitch CSS Stylizer JS: Connected to ${address}:${port} for channel ${TWITCH_CHANNEL_TO_JOIN}`);\n        if(chatDisplayContainer) chatDisplayContainer.classList.add('tmi-connected');\n        // Clear any previous error messages on successful connect\n        const errorMsg = chatDisplayContainer.querySelector('.stylizer-error-message');\n        if (errorMsg) errorMsg.remove();\n    });\n\n    tmiClient.on('disconnected', (reason) => {\n        console.warn(`Twitch CSS Stylizer JS: Disconnected. Reason: ${reason || 'Unknown'}`);\n        if(chatDisplayContainer) {\n            chatDisplayContainer.classList.remove('tmi-connected');\n            showError(`Disconnected: ${reason || 'Unknown reason'}. Attempting to reconnect...`);\n        }\n    });\n\n    tmiClient.on('message', (channel, tags, message, self) => {\n        if (self || !chatDisplayContainer) return; // Ignore self messages and if container disappears\n\n        const messageElement = document.createElement('div');\n        messageElement.className = 'chat-message';\n        messageElement.setAttribute('data-message-id', tags.id || ''); // Store message ID if available\n        messageElement.setAttribute('data-user-id', tags['user-id'] || '');\n\n        // Apply role-specific classes and determine roleKey for corner icons\n        let roleKey = 'userStyles'; // Default identifier for logic, not an actual style key\n        let roleClass = 'user-message'; // Default class\n        if (tags.badges) {\n            // Order matters: broadcaster > moderator > vip > subscriber\n             if (tags.badges.broadcaster) { roleKey = 'streamerStyles'; roleClass = 'streamer-message'; }\n             else if (tags.badges.moderator) { roleKey = 'moderatorStyles'; roleClass = 'moderator-message'; }\n             else if (tags.badges.vip) { roleKey = 'vipStyles'; roleClass = 'vip-message'; }\n             else if (tags.subscriber || tags.badges.subscriber) { roleKey = 'subscriberStyles'; roleClass = 'subscriber-message'; }\n        }\n         messageElement.classList.add(roleClass); // Add the determined class\n\n\n        // --- Create elements ---\n        const usernameWrapper = document.createElement('div');\n        usernameWrapper.className = 'username-wrapper';\n\n        // Add role icon placeholder (CSS will apply the background image)\n        const roleIconElement = document.createElement('span');\n        roleIconElement.className = 'role-icon'; // CSS targets this\n        usernameWrapper.appendChild(roleIconElement);\n\n        const usernameElement = document.createElement('span');\n        usernameElement.className = 'username';\n        // Apply Twitch color IF the role style doesn't explicitly set one\n        // (Handled mostly by CSS precedence now)\n        if (tags.color) {\n            const roleStyleConfig = STYLES_CONFIG[roleKey];\n            if (!roleStyleConfig || !roleStyleConfig.usernameColor) { // Only apply if role has no specific color\n                 usernameElement.style.setProperty('color', tags.color, 'important');\n            }\n        }\n        usernameElement.textContent = escapeHtml(tags['display-name'] || 'Anonymous');\n        usernameWrapper.appendChild(usernameElement);\n\n        const messageContentElement = document.createElement('span');\n        messageContentElement.className = 'message';\n        messageContentElement.innerHTML = parseTwitchEmotes(message, tags.emotes);\n\n        // --- Assemble message ---\n        messageElement.appendChild(usernameWrapper);\n        messageElement.appendChild(messageContentElement);\n\n        // --- Insert message based on flow direction ---\n         if (STYLES_CONFIG.chatFlowDirection === 'new-at-top') {\n             if (chatDisplayContainer.firstChild) {\n                 chatDisplayContainer.insertBefore(messageElement, chatDisplayContainer.firstChild);\n             } else {\n                 chatDisplayContainer.appendChild(messageElement); // First message\n             }\n        } else { // new-at-bottom (default)\n            chatDisplayContainer.appendChild(messageElement);\n        }\n\n        // --- Add corner icon (Pass roleKey) ---\n        addRandomCornerIconToElement(messageElement, roleKey);\n\n        // --- Manage message history ---\n        while (chatDisplayContainer.children.length > STYLES_CONFIG.maxMessages) {\n             if (STYLES_CONFIG.chatFlowDirection === 'new-at-top') {\n                 // Remove from bottom if new messages are at top\n                 if (chatDisplayContainer.lastChild && !chatDisplayContainer.lastChild.classList.contains('stylizer-error-message')) {\n                    chatDisplayContainer.removeChild(chatDisplayContainer.lastChild);\n                 } else { break; } // Stop if only error message left or empty\n             } else {\n                 // Remove from top if new messages are at bottom\n                 if (chatDisplayContainer.firstChild && !chatDisplayContainer.firstChild.classList.contains('stylizer-error-message')) {\n                    chatDisplayContainer.removeChild(chatDisplayContainer.firstChild);\n                 } else { break; } // Stop if only error message left or empty\n             }\n        }\n\n        // --- Auto-scroll ---\n         // Scroll slightly differently based on direction\n         if (STYLES_CONFIG.chatFlowDirection === 'new-at-bottom') {\n            // Scroll down only if user isn't scrolled up\n            const isScrolledToBottom = chatDisplayContainer.scrollHeight - chatDisplayContainer.clientHeight <= chatDisplayContainer.scrollTop + 5; // Allow 5px tolerance\n            if (isScrolledToBottom) {\n                 chatDisplayContainer.scrollTop = chatDisplayContainer.scrollHeight;\n            }\n        } else { // new-at-top\n             // Scroll up only if user isn't scrolled down\n             const isScrolledToTop = chatDisplayContainer.scrollTop <= 5; // Allow 5px tolerance\n            if (isScrolledToTop) {\n                 chatDisplayContainer.scrollTop = 0;\n             }\n        }\n    });\n\n     tmiClient.on('messagedeleted', (channel, username, deletedMessage, tags) => {\n        const messageId = tags['target-msg-id'];\n        if (messageId) {\n             const elementToDelete = chatDisplayContainer.querySelector(`[data-message-id=\"${messageId}\"]`);\n             if (elementToDelete) {\n                 // Instead of removing, hide it or apply a 'deleted' class for fade-out animations\n                 elementToDelete.classList.add('deleted');\n                 // Optionally remove after animation:\n                 // setTimeout(() => { elementToDelete.remove(); }, 1000); // Adjust time for animation\n             }\n         }\n     });\n\n     tmiClient.on('clearchat', (channel) => {\n         // Clear all messages except potential error messages\n         const messages = chatDisplayContainer.querySelectorAll('.chat-message:not(.stylizer-error-message)');\n         messages.forEach(msg => msg.remove());\n         console.log('Chat cleared by moderator.');\n     });\n\n     tmiClient.on('timeout', (channel, username, reason, duration, tags) => {\n         // Clear messages from the timed-out user\n         const userId = tags['target-user-id'];\n         if (userId) {\n             const userMessages = chatDisplayContainer.querySelectorAll(`[data-user-id=\"${userId}\"]`);\n             userMessages.forEach(msg => {\n                 msg.classList.add('deleted'); // Hide messages\n             });\n             console.log(`Messages from ${username} hidden due to timeout.`);\n         }\n     });\n\n\n    function showError(messageText) {\n        if (!chatDisplayContainer) return;\n        // Remove existing error messages first\n        const existingError = chatDisplayContainer.querySelector('.stylizer-error-message');\n        if (existingError) existingError.remove();\n\n        const errorEl = document.createElement('div');\n        errorEl.className = 'stylizer-error-message';\n        errorEl.textContent = messageText;\n        errorEl.style.color = '#FF6B6B'; // Brighter red for visibility\n        errorEl.style.backgroundColor = 'rgba(50, 0, 0, 0.7)';\n        errorEl.style.padding = '10px';\n        errorEl.style.border = '1px solid #FF6B6B';\n        errorEl.style.borderRadius = '4px';\n        errorEl.style.textAlign = 'center';\n        errorEl.style.fontWeight = 'bold';\n        errorEl.style.margin = '5px 0'; // Add some margin\n\n        // Add to top or bottom depending on flow, but usually top is better for errors\n        if (chatDisplayContainer.firstChild) {\n            chatDisplayContainer.insertBefore(errorEl, chatDisplayContainer.firstChild);\n        } else {\n            chatDisplayContainer.appendChild(errorEl);\n        }\n        // Don't auto-remove errors, let connect clear them or manual intervention\n    }\n\n    // --- Connect the client ---\n    tmiClient.connect().catch(error => {\n        console.error('Twitch CSS Stylizer JS: TMI Connection Failed:', error);\n        showError(`Connection Failed: ${error.message || 'Check console for details.'}. Ensure credentials and channel name are correct.`);\n    });\n\n    console.log('Twitch CSS Stylizer JS: Initialized.');\n\n})();\n    ").trim()}(e),t=function(e){let a=(e=>{var a,n,s,r;let o=new Set;return o.add(eV(e.fontFamily)),e.streamerStylesEnabled&&o.add(eV(null===(a=e.streamerStyles)||void 0===a?void 0:a.fontFamily)),e.moderatorStylesEnabled&&o.add(eV(null===(n=e.moderatorStyles)||void 0===n?void 0:n.fontFamily)),e.vipStylesEnabled&&o.add(eV(null===(s=e.vipStyles)||void 0===s?void 0:s.fontFamily)),e.subscriberStylesEnabled&&o.add(eV(null===(r=e.subscriberStyles)||void 0===r?void 0:r.fontFamily)),Array.from(o).filter(e=>null!==e)})(e).map(e=>'<link rel="stylesheet" href="'.concat(e,'">')).join("\n    ");return'\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Twitch Chat Overlay</title>\n    \x3c!-- Import Google Fonts --\x3e\n    '.concat(a,'\n    \x3c!-- Link to the generated CSS file --\x3e\n    <link rel="stylesheet" href="style.css">\n    <style>\n        /* Base styles for transparency and layout */\n        html, body {\n             height: 100%;\n             overflow: hidden; /* Prevent scrollbars on body */\n             background-color: transparent !important; /* Ensure transparency */\n             margin: 0;\n             padding: 0;\n        }\n        #chat-container {\n             /* Styles are mostly applied via style.css, but ensure height */\n             height: 100vh;\n             box-sizing: border-box; /* Include padding in height */\n        }\n    </style>\n</head>\n<body>\n    \x3c!-- Container where chat messages will be injected --\x3e\n    <div id="chat-container">\n        \x3c!-- Messages will appear here --\x3e\n    </div>\n\n    \x3c!-- Include TMI.js library (Essential for Twitch connection) --\x3e\n    \x3c!-- Always include this, consider fetching the latest version --\x3e\n    <script src="https://cdn.jsdelivr.net/npm/tmi.js/dist/tmi.min.js"><\/script>\n\n    \x3c!-- Link to the generated JavaScript file --\x3e\n    <script src="script.js"><\/script>\n</body>\n</html>\n    ').trim()}(e);a.file("style.css",s),a.file("script.js",r),a.file("index.html",t);let i=a.folder("icons");if(i){let a=e.cornerUploadedIcons.map(async(e,a)=>{try{let n=e.name||"corner_icon_".concat(a+1,".png");if(e.url.startsWith("data:")){let a=await fetch(e.url).then(e=>e.blob());i.file(n,a)}else{let a=await fetch(e.url);if(!a.ok)throw Error("Failed to fetch icon: ".concat(a.statusText));let s=await a.blob();i.file(n,s)}}catch(s){console.error("Error processing corner icon ".concat(e.name||a,":"),s),n({title:"Icon Download Error",description:"Failed to download corner icon: ".concat(e.name||"Icon ".concat(a+1),". Skipping."),variant:"destructive"})}}),s=["streamer","moderator","vip","subscriber"].map(async a=>{let s="".concat(a,"Styles"),r=e[s];if(e["".concat(s,"Enabled")]&&(null==r?void 0:r.roleIconUrl)){var o;let e=r.roleIconUrl,s=e.match(/^data:image\/([a-zA-Z+]+);base64,/),t=s?s[1]:(null===(o=e.split(".").pop())||void 0===o?void 0:o.split("?")[0])||"png",l="".concat(a,"_icon.").concat(t);try{if(e.startsWith("data:")){let a=await fetch(e).then(e=>e.blob());i.file(l,a)}else{let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch icon: ".concat(a.statusText));let n=await a.blob();i.file(l,n)}}catch(e){console.error("Error processing role icon ".concat(a,":"),e),n({title:"Icon Download Error",description:"Failed to download role icon: ".concat(a,". Skipping."),variant:"destructive"})}}});await Promise.all([...a,...s])}a.generateAsync({type:"blob"}).then(e=>{(0,o.saveAs)(e,"twitch-chat-styles.zip"),n({title:"Download Started",description:"Your chat style files are being downloaded."})}).catch(e=>{console.error("Error generating zip:",e),n({title:"Download Error",description:"Failed to generate the zip file.",variant:"destructive"})})};return(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[(0,s.jsxs)("header",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Twitch CSS Stylizer"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Customize your Twitch chat appearance and generate the CSS, JS, and HTML."})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 w-full sm:w-auto",children:[(0,s.jsxs)(w,{onValueChange:e=>{var s,r;let o=null===(s=aa.find(a=>a.key===e))||void 0===s?void 0:s.styles;o&&(a({...ae,...o,streamerStyles:{...ae.streamerStyles,...o.streamerStyles},moderatorStyles:{...ae.moderatorStyles,...o.moderatorStyles},vipStyles:{...ae.vipStyles,...o.vipStyles},subscriberStyles:{...ae.subscriberStyles,...o.subscriberStyles}}),n({title:"Preset Loaded",description:'Loaded the "'.concat(null===(r=aa.find(a=>a.key===e))||void 0===r?void 0:r.name,'" preset.')}))},children:[(0,s.jsxs)(S,{className:"w-full sm:w-[180px]","aria-label":"Load Preset",children:[(0,s.jsx)(ei.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)(j,{placeholder:"Load Preset"})]}),(0,s.jsx)(B,{children:aa.map(e=>(0,s.jsx)(E,{value:e.key,children:e.name},e.key))})]}),(0,s.jsxs)(z,{onClick:()=>{var e;null===(e=t.current)||void 0===e||e.click()},variant:"outline",className:"w-full sm:w-auto",children:[(0,s.jsx)(e8.A,{className:"mr-2 h-4 w-4"})," Load Styles (.json)"]}),(0,s.jsxs)(z,{onClick:()=>{try{let a=JSON.stringify(e,null,2),s=new Blob([a],{type:"application/json;charset=utf-8"});(0,o.saveAs)(s,"chat-styles.json"),n({title:"Styles Saved",description:"Chat styles saved to chat-styles.json."})}catch(e){console.error("Error saving styles:",e),n({title:"Save Error",description:"Failed to save chat styles.",variant:"destructive"})}},variant:"outline",className:"w-full sm:w-auto",children:[(0,s.jsx)(e7.A,{className:"mr-2 h-4 w-4"})," Save Styles (.json)"]}),(0,s.jsxs)(z,{onClick:i,className:"w-full sm:w-auto",children:[(0,s.jsx)(e6.A,{className:"mr-2 h-4 w-4"})," Download Files (.zip)"]})]}),(0,s.jsx)("input",{type:"file",ref:t,onChange:e=>{var s;let r=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!r)return;let o=new FileReader;o.onload=e=>{try{var s;let r=null===(s=e.target)||void 0===s?void 0:s.result;if(!r)throw Error("File content is empty.");let o=JSON.parse(r);if("object"!=typeof o||null===o||!o.containerBackground)throw Error("Invalid styles file format.");let t={...ae,...o,streamerStyles:{...ae.streamerStyles,...o.streamerStyles},moderatorStyles:{...ae.moderatorStyles,...o.moderatorStyles},vipStyles:{...ae.vipStyles,...o.vipStyles},subscriberStyles:{...ae.subscriberStyles,...o.subscriberStyles}};a(t),n({title:"Styles Loaded",description:"Chat styles loaded successfully from file."})}catch(e){console.error("Error loading styles:",e),n({title:"Load Error",description:"Failed to load styles: ".concat(e.message||"Unknown error."),variant:"destructive"})}finally{t.current&&(t.current.value="")}},o.onerror=()=>{console.error("Error reading file:",o.error),n({title:"File Read Error",description:"Could not read the selected file.",variant:"destructive"}),t.current&&(t.current.value="")},o.readAsText(r)},accept:".json",style:{display:"none"},"aria-hidden":"true"})]}),(0,s.jsxs)("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("section",{className:"lg:col-span-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 border-b pb-2",children:"Controls"}),(0,s.jsx)(eM,{styles:e,onStylesChange:a})]}),(0,s.jsxs)("section",{className:"lg:col-span-2 flex flex-col gap-8",children:[(0,s.jsx)("div",{className:"bg-card shadow-lg rounded-lg p-1",children:(0,s.jsxs)("div",{className:"bg-background rounded-md p-0",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 border-b pb-2 p-4",children:"Preview"}),(0,s.jsx)(eq,{styles:e})]})}),(0,s.jsx)(e3,{})]})]}),(0,s.jsx)("footer",{className:"mt-12 text-center text-muted-foreground text-sm",children:"Built with Next.js and Shadcn/ui."})]})}},9434:(e,a,n)=>{"use strict";n.d(a,{cn:()=>o,j:()=>t});var s=n(2596),r=n(9688);function o(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return(0,r.QP)((0,s.$)(a))}let t=(e,a)=>{let n;let s=parseFloat(a),r=isNaN(s)?1:Math.max(0,Math.min(1,s));if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){3===(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]);let a=(n="0x"+n.join(""))>>16&255,s=n>>8&255,o=255&n;return"rgba(".concat(a,",").concat(s,",").concat(o,",").concat(r,")")}return console.warn("Invalid hex color provided to hexToRgba: ".concat(e,". Returning rgba(0,0,0,").concat(r,").")),"rgba(0,0,0,".concat(r,")")}},9853:(e,a,n)=>{Promise.resolve().then(n.bind(n,8167))}},e=>{var a=a=>e(e.s=a);e.O(0,[725,117,441,684,358],()=>a(9853)),_N_E=e.O()}]);